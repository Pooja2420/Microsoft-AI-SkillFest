Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
Scan registry images with Microsoft Defender for Cloud
Article
2024-09-19
5 contributors
In this article
To scan images in your Azure container registries for vulnerabilities, you can integrate one of the available Azure Marketplace solutions or, if you want to use Microsoft Defender for Cloud, optionally enableMicrosoft Defender for container registriesat the subscription level.
Learn more aboutMicrosoft Defender for container registries
Learn more aboutcontainer security in Microsoft Defender for Cloud
Registry operations by Microsoft Defender for Cloud
Microsoft Defender for Cloud scans images that are pushed to a registry, imported into a registry, or any images pulled within the last 30 days. If vulnerabilities are detected,recommended remediationsappear in Microsoft Defender for Cloud.
After you've taken the recommended steps to remediate the security issue, replace the image in your registry. Microsoft Defender for Cloud rescans the image to confirm that the vulnerabilities are remediated.
For details, seeUse Microsoft Defender for container registries.
Tip
Microsoft Defender for Cloud authenticates with the registry to pull images for vulnerability scanning. Ifresource logsare collected for your registry, you'll see registry login events and image pull events generated by Microsoft Defender for Cloud. These events are associated with an alphanumeric ID such asb21cb118-5a59-4628-bab0-3c3f0e434cg6.
b21cb118-5a59-4628-bab0-3c3f0e434cg6
Scanning a network-restricted registry
Microsoft Defender for Cloud can scan images in a publicly accessible container registry or one that's protected with network access rules. If network rules are configured (that is, you disable public registry access, configure IP access rules, or create private endpoints), be sure to enable the network setting toallow trusted Microsoft servicesto access the registry. By default, this setting is enabled in a new container registry.
Next steps
Learn more about registry access bytrusted services.
To restrict access to a registry using a private endpoint in a virtual network, seeConfigure Azure Private Link for an Azure container registry.
To set up registry firewall rules, seeConfigure public IP network rules.
Feedback
Was this page helpful?
Additional resources