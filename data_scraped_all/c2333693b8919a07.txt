Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
IISWebAppDeploymentOnMachineGroup@0 - IIS web app deploy v0 task
Article
2025-04-24
3 contributors
In this article
Use this task to deploy a website or web application using Web Deploy.
Important
This task only works with Classic pipelines. UseIIS Web App Deployment Using WinRM - Visual Studio Marketplaceinstead.
Syntax
# IIS web app deploy v0
# Deploy a website or web application using Web Deploy.
- task: IISWebAppDeploymentOnMachineGroup@0
  inputs:
    WebSiteName: # string. Required. Website Name. 
    #VirtualApplication: # string. Virtual Application. 
    Package: '$(System.DefaultWorkingDirectory)\**\*.zip' # string. Required. Package or Folder. Default: $(System.DefaultWorkingDirectory)\**\*.zip.
  # Advanced Deployment Options
    #SetParametersFile: # string. SetParameters File. 
    #RemoveAdditionalFilesFlag: false # boolean. Remove Additional Files at Destination. Default: false.
    #ExcludeFilesFromAppDataFlag: false # boolean. Exclude Files from the App_Data Folder. Default: false.
    #TakeAppOfflineFlag: false # boolean. Take App Offline. Default: false.
    #AdditionalArguments: # string. Additional Arguments. 
  # File Transforms & Variable Substitution Options
    #XmlTransformation: false # boolean. XML transformation. Default: false.
    #XmlVariableSubstitution: false # boolean. XML variable substitution. Default: false.
    #JSONFiles: # string. JSON variable substitution.
# IIS web app deploy v0
# Deploy a website or web application using Web Deploy.
- task: IISWebAppDeploymentOnMachineGroup@0
  inputs:
    WebSiteName: # string. Required. Website Name. 
    #VirtualApplication: # string. Virtual Application. 
    Package: '$(System.DefaultWorkingDirectory)\**\*.zip' # string. Required. Package or Folder. Default: $(System.DefaultWorkingDirectory)\**\*.zip.
  # Advanced Deployment Options
    #SetParametersFile: # string. SetParameters File. 
    #RemoveAdditionalFilesFlag: false # boolean. Remove Additional Files at Destination. Default: false.
    #ExcludeFilesFromAppDataFlag: false # boolean. Exclude Files from the App_Data Folder. Default: false.
    #TakeAppOfflineFlag: false # boolean. Take App Offline. Default: false.
    #AdditionalArguments: # string. Additional Arguments. 
  # File Transforms & Variable Substitution Options
    #XmlTransformation: false # boolean. XML transformation. Default: false.
    #XmlVariableSubstitution: false # boolean. XML variable substitution. Default: false.
    #JSONFiles: # string. JSON variable substitution.
Inputs
WebSiteName-Website Namestring. Required.
WebSiteName
string
Specifies the name of an existing website on the machine group machines.
VirtualApplication-Virtual Applicationstring.
VirtualApplication
string
Specifies the name of an already existing Azure Virtual application on the target machines.
Package-Package or Folderstring. Required. Default value:$(System.DefaultWorkingDirectory)\**\*.zip.
Package
string
$(System.DefaultWorkingDirectory)\**\*.zip
Specifies the file path to the package or folder generated by MSBuild or a compressed archive file. Variables (Build|Release) and wildcards are supported. For example,$(System.DefaultWorkingDirectory)\**\*.zip.
$(System.DefaultWorkingDirectory)\**\*.zip
SetParametersFile-SetParameters Filestring.
SetParametersFile
string
Optional. Specifies the location of theSetParameters.xmlfile to use.
SetParameters.xml
RemoveAdditionalFilesFlag-Remove Additional Files at Destinationboolean. Default value:false.
RemoveAdditionalFilesFlag
boolean
false
Selects the option to delete files on the Web App that have no matching files in the Web App zip package.
ExcludeFilesFromAppDataFlag-Exclude Files from the App_Data Folderboolean. Default value:false.
ExcludeFilesFromAppDataFlag
boolean
false
Selects the option to prevent files in theApp_Datafolder from being deployed to the Web App.
App_Data
TakeAppOfflineFlag-Take App Offlineboolean. Default value:false.
TakeAppOfflineFlag
boolean
false
Selects the option to take the Web App offline by placing anapp_offline.htmfile in the root directory of the Web App before the sync operation begins. The file will be removed after the sync operation completes successfully.
app_offline.htm
AdditionalArguments-Additional Argumentsstring.
AdditionalArguments
string
Specifies additional Web Deploy arguments that are applied when deploying the Azure Web App. For example,-disableLink:AppPoolExtensionor-disableLink:ContentExtension.
-disableLink:AppPoolExtension
-disableLink:ContentExtension
For a list of Web Deploy arguments, seeWeb Deploy Operation Settings.
XmlTransformation-XML transformationboolean. Default value:false.
XmlTransformation
boolean
false
Specifies the config transforms that are run for*.Release.configand*.<EnvironmentName>.configon the*.config file. Config transforms are run prior to the Variable Substitution. XML transformations are only supported on Windows.
*.Release.config
*.<EnvironmentName>.config
*.config file
XmlVariableSubstitution-XML variable substitutionboolean. Default value:false.
XmlVariableSubstitution
boolean
false
Specifies the variables defined in the build or release pipeline. These variables are matched against thekeyornameentries in the appSettings, applicationSettings, and connectionStrings sections of any config file andparameters.xml. Variable Substitution is run after config transforms.
key
name
parameters.xml
Note:If the same variables are defined in the release pipeline and in the environment, then the environment variables will supersede the release pipeline variables.
JSONFiles-JSON variable substitutionstring.
JSONFiles
string
Specifies a new line separated list of JSON files to substitute the variable values. File names must be relative to the root folder.
To substitute JSON variables that are nested or hierarchical, specify them using JSONPath expressions. For example, to replace the value ofConnectionStringin the sample below, you must define a variable asData.DefaultConnection.ConnectionStringin the build or release pipeline (or in the release pipeline's stage).
ConnectionString
Data.DefaultConnection.ConnectionString
{  
  "Data": {  
    "DefaultConnection": {  
      "ConnectionString": "Server=(localdb)\SQLEXPRESS;Database=MyDB;Trusted_Connection=True"  
    }  
  }  
}
{  
  "Data": {  
    "DefaultConnection": {  
      "ConnectionString": "Server=(localdb)\SQLEXPRESS;Database=MyDB;Trusted_Connection=True"  
    }  
  }  
}
Variable Substitution is run after configuration transforms.
Note:Pipeline variables are excluded in substitution.
Task control options
All tasks have control options in addition to their task inputs. For more information, seeControl options and common task properties.
Output variables
None.
Remarks
Use this task to deploy a website or web app using WebDeploy.
Requirements
Feedback
Was this page helpful?
Additional resources