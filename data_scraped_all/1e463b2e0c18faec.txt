Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
Restore to latest restore point
Article
2025-02-03
2 contributors
In this article
APPLIES TO:Azure Database for PostgreSQL - Flexible Server
This article provides step-by-step instructions to perform a restore of an Azure Database for PostgreSQL flexible server to the latest restore point.
Steps to restore to latest restore point
Portal
CLI
Using theAzure portal:
Select your Azure Database for PostgreSQL flexible server.
Select your Azure Database for PostgreSQL flexible server.
In the resource menu, selectOverview.
In the resource menu, selectOverview.

Select theRestorebutton.
Select theRestorebutton.

You're redirected to theCreate Azure Database for PostgreSQL flexible server - Restore serverwizard, from where you can configure some settings for the new server that is created. After the new server is deployed, the most recent snapshot of the source server data disk is restored. In thePoint-in-time-restore (PITR)section, selectLatest restore point (Now).
You're redirected to theCreate Azure Database for PostgreSQL flexible server - Restore serverwizard, from where you can configure some settings for the new server that is created. After the new server is deployed, the most recent snapshot of the source server data disk is restored. In thePoint-in-time-restore (PITR)section, selectLatest restore point (Now).

Use the following table to understand the meaning of the different fields available in theBasicspage, and as guidance to fill the page:SectionSettingSuggested valueDescriptionCan be changed after instance creationProject detailsSubscriptionThe name of thesubscriptionin which you want to create the resource.A subscription is an agreement with Microsoft to use one or more Microsoft cloud platforms or services, for which charges accrue based on either a per-user license fee or on cloud-based resource consumption.An existing Azure Database for PostgreSQL flexible server instance can be moved to a different subscription from the one it was originally created. For more information, see MoveAzure resources to a new resource group or subscription.Resource groupTheresource groupin the selected subscription, in which you want to create the resource. It can be an existing resource group, or you can selectCreate new, and provide a name in that subscription which is unique among the existing resource group names.A resource group is a container that holds related resources for an Azure solution. The resource group can include all the resources for the solution, or only those resources that you want to manage as a group. You decide how you want to allocate resources to resource groups based on what makes the most sense for your organization. Generally, add resources that share the same lifecycle to the same resource group so you can easily deploy, update, and delete them as a groupAn existing Azure Database for PostgreSQL flexible server instance can be moved to a different subscription from the one it was originally created. For more information, see MoveAzure resources to a new resource group or subscription.Source detailsSource serverThe name of the server whose backup you want to restore on the newly deployed server.Geo-redundant restoreIf the source server was created withgeo-redundant backups, this option would be enabled. If it's enabled, you could restore a backup kept in the storage account of the paired region to create a new server in that other region.Earliest restore pointThe oldest backup of the source server available to restore from. the server whose backup you want to restore on the newly deployed server. Backups are automatically deleted, based on the backup retention period configured on the source server.Point-in-time-restore (PITR)Possible options areLatest restore point (Now),Select a custom restore point, andSelect Fast restore point (Restore using full backup only).To restore to latest restore point, selectLatest restore point (Now).Server detailsNameThe name that you want to assign to the newly deployed server, on top of which a backup of the source is restored.A unique name that identifies your Azure Database for PostgreSQL flexible server instance. The domain namepostgres.database.azure.comis appended to the server name you provide, to conform the fully qualified host name by which you can use a Domain Naming System server to resolve the IP address of your instance.Although the server name can't be changed after server creation, you can use thepoint in time recoveryfeature, to restore the server under a different name. An alternative approach to continue using the existing server, but being able to refer to it using a different server name, would use thevirtual endpointsto create a writer endpoint with the new desired name. With this approach, you could refer to the instance by its original name, or that assigned to the write virtual endpoint.LocationThe name of one of theregions in which the service is supported. Point in time restore only supports the deployment of the new server in the same region in which the source server exists.Compliance, data residency, pricing, proximity to your users, or availability of other services in the same region, are some of the requirements you should use when choosing the region.The service doesn't offer a feature to automatically and transparently relocate an instance to a different region.PostgreSQL versionThe version selected by default.Point in time restore only supports the deployment of the new server with the exact same major version used by the source server. Currently those versions are:17 (preview), 16, 15, 14, 13, 12, 11Azure Database for PostgreSQL flexible server supports in-place upgrade, viamajor version upgrade.Availability zoneYour preferredavailability zone.You can choose in which availability zone you want your server to be deployed. Being able to choose the availability zone in which your instance is deployed, is useful to colocate it with your application. If you chooseNo preference, a default availability zone is automatically assigned to your instance during its creation.Although the availability zone in which an instance is deployed can't be changed after its creation, you can use thepoint in time recoveryfeature to restore the server under a different name on a different availability zone.Compute + storageAssigns the same type and size of compute and same size of storage, as the ones used by the source server at the time the backup is restored. However, if you select theConfigure serverlink, you can change the type of storage allocated to the new server, and whether or not it should be provisioned with geo-redundant backups.After the new server is deployed, its compute options can be scaled up or down.
Use the following table to understand the meaning of the different fields available in theBasicspage, and as guidance to fill the page:
postgres.database.azure.com
If you want to change the type of storage assigned to the new server, or if you want to deploy it with geo-redundant backups, selectConfigure server:
If you want to change the type of storage assigned to the new server, or if you want to deploy it with geo-redundant backups, selectConfigure server:

TheCompute + storageopens to show compute and storage options for the new server:
TheCompute + storageopens to show compute and storage options for the new server:

Use the following table to understand the meaning of the different fields available in theCompute + storagepage, and as guidance to fill the page:SectionSettingSuggested valueDescriptionCan be changed after instance creationComputeCompute tierCan't be changed and is automatically set to the same value as the source server.Possible values areBurstable(typically used for development environments in which workloads don't need the full capacity of the CPU continuously) andGeneral Purpose(typically used for production environments with most common workloads), andMemory Optimized(typically used for production environments running workloads that require a high memory to CPU ratio). For more information, seeCompute options in Azure Database for PostgreSQL flexible server.Can be changed after the server is created. However, if you're using some functionality which is only supported on certain tiers and change the current tier to one in which the feature isn't supported, the feature stops being available or gets disabled.Compute sizeCan't be changed and is automatically set to the same value as the source server.Notice that the list of supported values might vary across regions, depending on the hardware available on each region. For more information, seeCompute options in Azure Database for PostgreSQL flexible server.Can be changed after instance is created.StorageStorage typeSelectPremium SSD.Notice that the list of allowed values might vary depending on which other features you selected. For more information, seeStorage options in Azure Database for PostgreSQL flexible server.Can't be changed after the instance is created.Storage sizeCan't be changed and is automatically set to the same value as the source server.Notice that the list of supported values might vary across regions, depending on the hardware available on each region. For more information, seeCompute options in Azure Database for PostgreSQL flexible server.Can be changed after the instance is created. It can only be increased. Manual or automatic shrinking of storage isn't supported. Acceptable values depend on the type of storage assigned to the instance.Performance tierCan't be changed and is automatically set to the same value as the source server.Performance of Premium solid-state drives (SSD) is set when you create the disk, in the form of their performance tier. When setting the provisioned size of the disk, a performance tier is automatically selected. This performance tier determines the IOPS and throughput of your managed disk. For Premium SSD disks, this tier can be changed at deployment or afterwards, without changing the size of the disk, and without downtime. Changing the tier allows you to prepare for and meet higher demand without using your disk's bursting capability. It can be more cost-effective to change your performance tier rather than rely on bursting, depending on how long the extra performance is necessary. This is ideal for events that temporarily require a consistently higher level of performance. Events like holiday shopping, performance testing, or running a training environment. To handle these events, you can switch a disk to a higher performance tier without downtime, for as long as you need the extra performance. You can then return to the original tier without downtime when the extra performance is no longer necessary.Can be changed after the instance is created.Storage autogrowCan't be changed and is automatically set to the same value as the source server.Notice that this option might not be supported for some storage types, and it might not be honored for certain storage sizes. For more information, seeConfigure storage autogrow in an Azure Database for PostgreSQL flexible server.Can be changed after the instance is created, as long as the storage type supports this feature.BackupsBackup retention period (in days)Can't be changed and is automatically set to the same value as the source server.The default backup retention period is 7 days, but you can extend the period to a maximum of 35 days.Can be changed after instance is created.Backup redundancyAutomatically selected for you, based on the configuration of high availability and geo-redundancy of backups.Possible values areLocally redundant(provides at least 99.999999999% durability of backup objects over a year),Zone redundant(provides at least 99.9999999999% durability of backup objects over a year), andGeo-Redundant(provides at least 99.99999999999999% durability of backup objects over a year). WhenGeo-redundancyis enabled for the backup, then the backup redundancy option is set toGeo-Redundant. Otherwise, if high availability is set toDisabledorSame zone, then backup redundancy is set toLocally redundant. And if high availability is set toZone redundant, then backup redundancy is set toZone redundant. For more information, seeBackup redundancy options in Azure Database for PostgreSQL flexible server.Can't be changed after instance is created.Geo-redundancyLeave this option disabled.Geo-redundancy in backups is only supported on instances deployed in any of theAzure paired regions. For more information, seeGeo-redundant backup and restore in Azure Database for PostgreSQL flexible serverCan't be changed after instance is created.
Use the following table to understand the meaning of the different fields available in theCompute + storagepage, and as guidance to fill the page:
Once all the new server is configured to your needs, selectReview + create.
Once all the new server is configured to your needs, selectReview + create.

Review that all configurations for the new deployment are correctly set, and selectCreate.
Review that all configurations for the new deployment are correctly set, and selectCreate.

A new deployment is launched to create your new Azure Database for PostgreSQL flexible server and restore the most recent data available on the source server at the time of restore:
A new deployment is launched to create your new Azure Database for PostgreSQL flexible server and restore the most recent data available on the source server at the time of restore:

When the deployment completes, you can selectGo to resource, to get you to theOverviewpage of your new Azure Database for PostgreSQL flexible server, and start using it:
When the deployment completes, you can selectGo to resource, to get you to theOverviewpage of your new Azure Database for PostgreSQL flexible server, and start using it:

You can restore a backup of a server to the latest restore point via theaz postgres flexible-server restorecommand.
az postgres flexible-server restore \
  --resource-group <resource_group> \
  --name <server> \
  --source-server <source_server>
az postgres flexible-server restore \
  --resource-group <resource_group> \
  --name <server> \
  --source-server <source_server>
Note
Theaz postgres flexible-server restorecommand accepts a--restore-timeparameter. That parameter can be passed a value that represents the point in time, in UTC, to restore from (ISO8601 format). One example valid value would be2025-04-26T02:10:00+00:00. However, when that parameter isn't present, its value defaults to the current time in the system from where the command is executed.
az postgres flexible-server restore
--restore-time
2025-04-26T02:10:00+00:00
Related content
Restore to custom restore point.
Restore full backup (fast restore).
Restore to paired region (geo-restore).
Restore a dropped server.
Feedback
Was this page helpful?
Additional resources