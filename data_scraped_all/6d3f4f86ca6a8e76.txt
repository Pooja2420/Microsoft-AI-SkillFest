Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
About Azure Key Vault managed storage account keys (Legacy)
Article
2025-04-14
3 contributors
In this article
Important
We recommend using Azure Storage integration with Microsoft Entra ID, Microsoft's cloud-based identity and access management service. Microsoft Entra integration is available forAzure blobs and queues, and provides OAuth2 token-based access to Azure Storage (just like Azure Key Vault).
Microsoft Entra ID allows you to authenticate your client application by using an application or user identity, instead of storage account credentials. You can use anMicrosoft Entra managed identitywhen you run on Azure. Managed identities remove the need for client authentication and storing credentials in or with your application. Use the solution in this article only when Microsoft Entra authentication is not possible.
An Azure storage account uses credentials comprising an account name and a key. The key is autogenerated and serves as a password, rather than an as a cryptographic key. Key Vault manages storage account keys by periodically regenerating them in storage account and provides shared access signature tokens for delegated access to resources in your storage account.
You can use the Key Vault managed storage account key feature to list (sync) keys with an Azure storage account, and regenerate (rotate) the keys periodically. You can manage keys for both storage accounts and Classic storage accounts.
Azure Storage account key management
Key Vault can manageAzure storage accountkeys:
Internally, Key Vault can list (sync) keys with an Azure storage account.
Key Vault regenerates (rotates) the keys periodically.
Key values are never returned in response to caller.
Key Vault manages keys of both storage accounts and classic storage accounts.
For more information, see:
Storage account access keys
Storage account keys management in Azure Key Vault
Storage account access control
The following permissions can be used when authorizing a user or application principal to perform operations on a managed storage account:
Permissions for managed storage account and SaS-definition operationsget: Gets information about a storage accountlist: List storage accounts managed by a Key Vaultupdate: Update a storage accountdelete: Delete a storage accountrecover: Recover a deleted storage accountbackup: Back up a storage accountrestore: Restore a backed-up storage account to a Key Vaultset: Create or update a storage accountregeneratekey: Regenerate a specified key value for a storage accountgetsas: Get information about a SAS definition for a storage accountlistsas: List storage SAS definitions for a storage accountdeletesas: Delete a SAS definition from a storage accountsetsas: Create or update a new SAS definition/attributes for a storage account
Permissions for managed storage account and SaS-definition operations
get: Gets information about a storage account
list: List storage accounts managed by a Key Vault
update: Update a storage account
delete: Delete a storage account
recover: Recover a deleted storage account
backup: Back up a storage account
restore: Restore a backed-up storage account to a Key Vault
set: Create or update a storage account
regeneratekey: Regenerate a specified key value for a storage account
getsas: Get information about a SAS definition for a storage account
listsas: List storage SAS definitions for a storage account
deletesas: Delete a SAS definition from a storage account
setsas: Create or update a new SAS definition/attributes for a storage account
Permissions for privileged operationspurge: Purge (permanently delete) a managed storage account
Permissions for privileged operations
purge: Purge (permanently delete) a managed storage account
For more information, see theStorage account operations in the Key Vault REST API reference. For information on establishing permissions, seeVaults - Create or UpdateandVaults - Update Access Policy.
Next steps
Manage storage account keys with Key Vault and the Azure CLI
About Key Vault
About keys, secrets, and certificates
Best practices for secrets management in Key Vault
Key Vault Developer's Guide
Feedback
Was this page helpful?
Additional resources