Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
Performance recommendations
Article
2025-04-08
17 contributors
In this article
The performance recommendations in Azure Advisor can help improve the speed and responsiveness of your business-critical applications. You can get performance recommendations from Advisor on thePerformancetab of the Advisor dashboard.
Sign in to theAzure portal.
Sign in to theAzure portal.
Search for and selectAdvisorfrom any page.
Search for and selectAdvisorfrom any page.
On theAdvisordashboard, select thePerformancetab.
On theAdvisordashboard, select thePerformancetab.
API Management
Your subscription is running on a version scheduled for deprecation. On September 30, 2023, all API versions for the Azure API Management service older than August 01, 2021 are retired and API requests fail. Upgrade to newer version to prevent disruption to your services.
Potential benefits: API Version Retirements
Impact:High
For more information, seeAzure updates
ResourceType: microsoft.apimanagement/serviceRecommendation ID: 4b0b5652-aad5-4818-89ad-1a2dde6e5128
App Service
Your app served more than 1000 requests per day for the past 3 days. Your app may benefit from the higher performance infrastructure available with the Premium V2 App Service tier. The Premium V2 tier features Dv2-series VMs with faster processors, SSD storage, and doubled memory-to-core ratio when compared to the previous instances. Learn more about upgrading to Premium V2 from our documentation.
Potential benefits: Obtain better performance with lower cost
Impact:High
For more information, seeConfigure Premium V3 tier - Azure App Service
ResourceType: microsoft.web/sitesRecommendation ID: 9ebff5d5-10c1-4fed-8c58-1954e27d3bfa
Your app has opened too many TCP/IP socket connections. Exceeding ephemeral TCP/IP port connection limits can cause unexpected connectivity issues for your apps.
Potential benefits: Better performance and lower cost
Impact:High
ResourceType: microsoft.web/sitesRecommendation ID: 07f9a07d-9030-465c-89dc-b1f712334b83
Application Gateway
Your Application Gateway has been running on high utilization recently and under heavy load, you may experience traffic loss or increase in latency. It's important that you scale your Application Gateway according to your traffic and with a bit of a buffer, so you are prepared for any traffic surges or spikes and minimizing the impact on your QoS Application Gateway v1 SKU (Standard/WAF) supports manual scaling and v2 SKU (Standard_v2/WAF_v2) support manual and autoscaling. In manual scaling, increase your instance count and if autoscaling is enabled, make sure your maximum instance count is set to a higher value so Application Gateway can scale out as the traffic increases.
Potential benefits: Ensure availability of your sites
Impact:Medium
For more information, seeApplication Gateway high traffic volume support
ResourceType: microsoft.network/applicationgatewaysRecommendation ID: 2ee9f31e-df58-4893-b3e7-66c0cd74183a
We are unable to update your Azure Bastion resource due to its current configuration. Delete and recreate your resource before February 19, 2021 to receive the updates. If you do not delete and recreate your resource by this date, it's automatically deleted and recreated for you.
Potential benefits: Receive necessary updates for your Azure Bastion resource.
Impact:High
For more information, seeTutorial: Deploy Azure Bastion using specified settings: Azure portal
ResourceType: microsoft.network/bastionhostsRecommendation ID: 17ebccd8-1405-405c-8695-1981d115ffdc
You have been using over 90% of your procured circuit bandwidth recently. If you exceed your allocated bandwidth, you experience an increase in dropped packets sent over ExpressRoute. Upgrade your circuit bandwidth to maintain performance, if your bandwidth needs remain high.
Potential benefits: Prevent packet drops caused by bandwidth oversubscription
Impact:High
For more information, seeAbout upgrading circuit bandwidth
ResourceType: microsoft.network/expressroutecircuitsRecommendation ID: f606607c-ee34-445e-997e-49d7cb563fe0
Your Azure Firewall deployment is reaching or exceeding 20,000 unique source/destinations in network rules.  Optimize network rule configuration and processing to prevent performance and latency issues.
Potential benefits: Ensure Azure Firewall is configured to optimize performance.
Impact:High
For more information, seeAzure Firewall best practices for performance
ResourceType: microsoft.network/firewallpoliciesRecommendation ID: 10b153b5-59d0-45ac-bb3f-6a0b7ad9c0cd
Your Rule Collection Group (RCG) in firewall policy is reaching 2 MB. Optimize Rule Collection Group (RCG) to prevent performance impact.
Potential benefits: Ensure Azure Firewall is configured to optimize performance.
Impact:High
For more information, seeAzure subscription and service limits, quotas, and constraints - Azure Resource Manager
ResourceType: microsoft.network/firewallpoliciesRecommendation ID: 80b35b4e-1e5c-4ddf-835e-a774ce2ab81e
Your Azure Firewall policy is reaching or exceeding the 200 IP Groups maximum. Consider reducing the quantity, adjusting the IP Group, or adjusting rule configurations to prevent performance and latency issues.
Potential benefits: Ensure Azure Firewall is configured to optimize performance.
Impact:High
For more information, seeAzure subscription and service limits, quotas, and constraints - Azure Resource Manager
ResourceType: microsoft.network/firewallpoliciesRecommendation ID: db00ef71-91ab-418a-a2ea-da45a678bb34
Health probes can use either the GET or HEAD HTTP methods. It's a good practice to use the HEAD method for health probes, which reduces the amount of traffic load on your origins.
Potential benefits: Reduce traffic load on your origins
Impact:Medium
For more information, seeAzure Front Door - Best practices
ResourceType: microsoft.network/frontdoorsRecommendation ID: 241b9d61-3657-4096-85c3-83ad2a5f36e2
Time to Live (TTL) affects how recent of a response a client gets when it makes a request to Azure Traffic Manager. Reducing the TTL value means that the client is routed to a functioning endpoint faster in the case of a failover. Configure your TTL to 20 seconds to route traffic to a health endpoint as quickly as possible.
Potential benefits: Improve availability by failing over to healthy endpoints
Impact:High
For more information, seeAzure Traffic Manager endpoint monitoring
ResourceType: microsoft.network/trafficmanagerprofilesRecommendation ID: b020ff96-37bf-4a64-8bd5-2bfb3fdf3f87
Time to Live (TTL) affects how recent of a response a client gets when it makes a request to Azure Traffic Manager. Reducing the TTL value means that the client is routed to a functioning endpoint faster in the case of a failover. Configure your TTL to 60 seconds to route traffic to a health endpoint as quickly as possible.
Potential benefits: Improve availability by failing over to healthy endpoints faster
Impact:Medium
For more information, seeAzure Traffic Manager endpoint monitoring
ResourceType: microsoft.network/trafficmanagerprofilesRecommendation ID: d374a732-e69b-41dc-bbc2-a7234e2270be
Each gateway SKU can only support a specified count of concurrent P2S connections. Your connection count is close to your gateway limit, so more connection attempts may fail.
Potential benefits: Increasing the size of your gateway allows you to support more concurrent P2S users
Impact:High
ResourceType: microsoft.network/virtualnetworkgatewaysRecommendation ID: f78c8e26-9c40-4a74-a091-f76aecb49099
Under high traffic load, the VPN gateway may drop packets due to high CPU. You should consider upgrading your VPN Gateway SKU since your VPN has consistently been running.
Potential benefits: Increasing the size of your VPN gateway ensures that connections aren't dropped due to high CPU
Impact:High
For more information, seeVirtual machine sizes overview - Azure Virtual Machines
ResourceType: microsoft.network/virtualnetworkgatewaysRecommendation ID: 2e41fe84-7173-4fe9-b257-61aa4679c3fe
ExpressRoute gateways need ongoing maintenance. The platform upgrades aging hardware to ensure reliability, availability, security, and performance. Most upgrades are seamless, but some affect deployments. Gateways connected before 2017 may not perform optimally.
Potential benefits: Improved performance on newer hardware
Impact:High
For more information, seeHow to convert your legacy ExpressRoute gateway connections
ResourceType: microsoft.network/virtualnetworkgatewaysRecommendation ID: 83d8749f-cbdd-4268-9a7b-bc0512f36fca
Update the prefix to be smaller than the maximum prefix limit for the ExpressRoute virtual network gateway. The ExpressRoute virtual network gateway allows a maximum of 11000 prefixes.
Potential benefits: Prevent loss of connectivity.
Impact:High
For more information, seeAzure subscription and service limits, quotas, and constraints - Azure Resource Manager
ResourceType: microsoft.network/virtualnetworkgatewaysRecommendation ID: ad65c036-7bb0-4f2e-9059-e4bea4799412
Azure AI Search
Increase the search units. In the last 7 days, the platform observed throttling for Azure Search API requests in over 20% of the recorded minutes.
Potential benefits: Scale the resource to reduce throttling errors.
Impact:Medium
ResourceType: microsoft.search/searchservicesRecommendation ID: 3b1b26f2-bacb-437f-b481-f4dc3a0bbf9b
Upgrade the version of the Search SDK to the newest version. The newest version of the Azure AI Search SDK contains new functionality and issue fixes.
Potential benefits: Add new feature capabilities. Fix issues.
Impact:Medium
For more information, seeAPI versions - Azure AI Search
ResourceType: microsoft.search/searchservicesRecommendation ID: 4cab9b17-7fa9-4d20-88ba-47232ee0ee24
Azure Arc-enabled servers
We identified SDK requests from outdated API for resources under this subscription. We recommend switching to the latest SDK versions. This ensures you receive the latest features and performance improvements.
Potential benefits: Latest Automanage API contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeSDK Overview
ResourceType: microsoft.hybridcompute/machinesRecommendation ID: 03290f58-8985-479f-8a38-ac7d803cff62
Azure Attestation Service
We identified API requests from outdated Attestation API for resources under this subscription. We recommend switching to the latest Attestation API versions. You need to update your existing code to use the latest API version. This ensures you receive the latest features and performance improvements.
Potential benefits: Latest Attestation API contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeMicrosoft Azure Attestation REST API reference
ResourceType: microsoft.attestation/attestationprovidersRecommendation ID: 3629448e-9b3e-4c5d-96ec-4760bbfde5ab
Azure Cache for Redis
Cache instances perform best when not running under high server load which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce the server load or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:Medium
For more information, seeTroubleshoot connectivity in Azure Cache for Redis - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: a5ab10c5-424a-4818-9fba-ddca1eee531a
Cache instances perform best when not running under high server load which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce the server load or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:High
For more information, seeTroubleshoot connectivity in Azure Cache for Redis - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: e34f1fd6-7d4b-4030-9c1a-0b413675cb40
Cache instances perform best when not running under high network bandwidth which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce network bandwidth or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:Medium
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: a67201dd-6df0-4838-8258-5abf26adc8f6
Cache instances perform best when not running under high network bandwidth which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce network bandwidth or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:High
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: a616baa6-74dd-45ac-a2a3-ab278d63f2d7
Cache instances perform best when not running under high server load which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce the server load or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:Medium
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: a25fccfd-854d-4c1a-9fae-aa0597a45e27
Cache instances perform best when not running under high server load which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce the server load or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:High
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: dcd94184-c5fb-4e80-ac1e-7f11930b4f77
Cache instances perform best when the host machines where client application runs is able to keep up with responses from the cache. If client host machine is running hot on memory, CPU, or network bandwidth, the cache responses will not reach your application fast enough and could result in higher latency.
Potential benefits: You can improve your cache throughput and latency.
Impact:Medium
For more information, seeTroubleshoot Azure Cache for Redis client issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: 2f57b58b-1677-4c31-8a37-be79838d14ca
Cache instances perform best when not running under high memory pressure which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce used memory or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:Medium
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: 16d0cf25-463d-4a20-8f18-d8d71edf92e3
Cache instances perform best when not running under high memory pressure which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce used memory or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:High
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: 64dce138-80d7-48ad-934b-025a425386a7
Cache instances perform best when not running under high memory pressure which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce used memory or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:Medium
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: b1184137-cf30-4a62-87bd-5e287b911a46
Cache instances perform best when not running under high memory pressure which may cause them to become unresponsive, experience data loss, or become unavailable. Apply best practices to reduce used memory or scale to a different size or sku with more capacity.
Potential benefits: Ensure optimal performance and high availability through best practices
Impact:High
For more information, seeTroubleshoot Azure Cache for Redis server issues - Azure Cache for Redis
ResourceType: microsoft.cache/redisRecommendation ID: 2adfe155-4639-4d83-9814-15ce7454fa25
Azure Communication Services
Azure Communication Services Calling SDK can be used to enable voice, video, screen-sharing, and other real-time communication. Update to the recommended version of Calling SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Calling SDK contain latest fixes and new features
Impact:Medium
For more information, seeAzure Communication Services Calling SDK overview - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: c6da5a5f-149d-4550-82c9-ec3921a586f3
Azure Communication Services Calling SDK can be used to enable voice, video, screen-sharing, and other real-time communication. Update to the recommended version of Calling SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Calling SDK contain latest fixes and new features
Impact:High
For more information, seeAzure Communication Services Calling SDK overview - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: c9f07cd1-54a4-4bc9-bdb6-87d97e4b99fe
Azure Communication Services Chat SDK can be used to add rich, real-time chat to your applications. Update to the recommended version of Chat SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Chat SDK contain latest fixes and new features
Impact:Medium
For more information, seeChat SDK overview for Azure Communication Services - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: 28da6c5a-8e1f-47eb-beb3-62fd50cbb593
Azure Communication Services Identity SDK can be used to manage identities, users, and access tokens. Update to the recommended version of Identity SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Identity SDK contain latest fixes and new features
Impact:Medium
For more information, seeSDKs and REST APIs for Azure Communication Services - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: a383aac0-2eed-4dac-8050-3675fdc8eded
Azure Communication Services Phone Numbers SDK can be used to acquire and manage phone numbers. Update to the recommended version of Phone Numbers SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Phone Numbers SDK contain latest fixes and new features
Impact:Medium
For more information, seeSDKs and REST APIs for Azure Communication Services - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: 5e8e752c-3851-461c-9bc4-407bbf3ebd94
Azure Communication Services Rooms SDK can be used to control who can join a call, when they can meet, and how they can collaborate. Update to the recommended version of Rooms SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: New versions of Rooms SDK contain latest fixes and features
Impact:Medium
For more information, seeAzure Communication Services Rooms overview - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: abcb78e5-6f21-4f64-badd-c147f457fb0a
Azure Communication Services Call Automation SDK can be used to make and manage calls, play audio, and configure recording. Update to the recommended version of Call Automation SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of Call Automation SDK contain latest fixes and new features
Impact:Medium
For more information, seeCall Automation overview - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: 30bcc7b0-bcab-4b60-a530-53ccbb64663f
Azure Communication Services SMS SDK can be used to send and receive SMS messages. Update to the recommended version of SMS SDK to ensure the latest fixes and features. A nonrecommended version was detected in the last 48-60 hours.
Potential benefits: Newer versions of SMS SDK contain latest fixes and new features
Impact:Medium
For more information, seeSMS SDK overview for Azure Communication Services - An Azure Communication Services concept document
ResourceType: microsoft.communication/communicationservicesRecommendation ID: bf23065c-8829-4fa1-8152-09d4066e11a3
Azure Container Apps
Recommendation is to use the latest version:https://www.nuget.org/packages/Azure.CodeSigning.Sdk#versions-body-tab
Potential benefits: Latest Version
Impact:Medium
For more information, seeNuGet Gallery
ResourceType: microsoft.app/containerappsRecommendation ID: c5aa02ed-1fcb-4e31-b283-a14a666ff1c4
Azure Cosmos DB
Your Azure Cosmos DB containers are using the default indexing policy, which indexes every property in your documents. Because you're storing large documents, a high number of properties get indexed that results in high Request Unit consumption and poor write latency. To optimize write performance, we recommend overriding the default indexing policy to only index the properties used in your queries.
Potential benefits: Improve the write throughput of your container
Impact:Medium
For more information, seeAzure Cosmos DB indexing policies
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: 683b5e32-48aa-4b46-a822-4e22a20ee244
We noticed that your Azure Cosmos DB applications are using Gateway mode via the Cosmos DB .NET or Java SDKs. We recommend switching to Direct connectivity for lower latency and higher scalability.
Potential benefits: Improved latency and high availability for your applications
Impact:High
For more information, seeAzure Cosmos DB performance tips for .NET SDK v2
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: 75c8c891-46d2-41fa-a81c-84e870a139a9
This account has a custom setting that allows the logical partition size in a container to exceed the limit of 20 GB. This setting was applied by the Azure Cosmos DB team as a temporary measure to give you time to architect your application again with a different partition key. It's not recommended as a long-term solution, as SLA guarantees aren't honored when the limit is increased. You can now use hierarchical partition keys (preview) to architect your application again. The feature allows you to exceed the limit of 20 GB by setting up to three partition keys, ideal for multi-tenant scenarios or workloads that use synthetic keys.
Potential benefits: Optimize data distribution and performance
Impact:Medium
For more information, seeNow in private preview: optimize your data distribution with hierarchical partition keys - Azure Cosmos DB Blog
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: 3a7c4990-18e7-4581-b62d-c745260e7c5b
You are using the query page size of 100 for queries for your Azure Cosmos container. We recommend using a page size of -1 for faster scans.
Potential benefits: End to end query latency is significantly improved.
Impact:Medium
For more information, seeSQL query metrics for Azure Cosmos DB for NoSQL
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: e27c5181-5005-4dc3-a449-89b726a3bf54
Use burst capacity to leverage idle database/container capacity to handle traffic spikes, preventing rate limiting (429 errors) and maintaining performance during workload bursts.
Potential benefits: Improve performance and productivity
Impact:Low
For more information, seeBurst capacity - Azure Cosmos DB
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: 1ff3c87f-63c6-4b94-9bb1-28f8d115103e
Queries can benefit from adding indexes for reduced cost and increased performance. We recommend you consider adding these index paths to your container's indexing policy.
Potential benefits: Reduce query RU charge and increase performance
Impact:Medium
For more information, seeAzure Cosmos DB indexing policies
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: 4391ebb6-9519-4563-97c8-85f40cb92a63
When CPU usage surpasses 90% within a 12-hour timeframe, users are notified about the high usage. Additionally it advises them to scale up to a higher tier to get a better performance.
Potential benefits: Get a performance boost
Impact:Medium
For more information, seeScale or configure a cluster - Azure Cosmos DB for MongoDB vCore
ResourceType: microsoft.documentdb/databaseaccountsRecommendation ID: b633adb4-0c3c-4ab6-ab52-a9d752c6ac52
Azure Data Explorer
Looks like your resource could automatically scale to improve performance (based on your actual usage during the last week, cache utilization, ingestion utilization, CPU, and streaming ingests utilization). To optimize costs and performance, we recommend enabling Optimized Autoscale.
Potential benefits: Optimize performance
Impact:Medium
For more information, seeManage cluster horizontal scaling (scale out) to match demand in Azure Data Explorer - Azure Data Explorer
ResourceType: microsoft.kusto/clustersRecommendation ID: a17ff303-56eb-4382-ac2c-ac7e317945fc
Based on your actual usage during the last month, update the cache policy to increase the hot cache for the table. The retention period must always be larger than the cache period. If, after increasing the cache, the retention period is lower than the cache period, update the retention policy. (*) The analysis is based only on user queries that scanned data.
Potential benefits: Optimize performance
Impact:Medium
For more information, seeCaching policy (hot and cold cache) - Kusto
ResourceType: microsoft.kusto/clustersRecommendation ID: 389653ce-d564-4b95-aac4-ca30e1602536
Azure Database for MariaDB
Our internal telemetry shows that the server's audit logs may be lost over the past day. This occurs when your server is experiencing a CPU heavy workload or a server generates a large number of audit logs over a short period of time. We recommend only logging the necessary events required for your audit purposes using the following server parameters: audit_log_events, audit_log_exclude_users, audit_log_include_users. If the CPU usage on your server is high due to your workload, we recommend increasing the server's vCores to improve performance.
Potential benefits: Improve the reliability of audit logs for monitoring and troubleshooting.
Impact:Medium
For more information, seeAudit logs - Azure Database for MariaDB
ResourceType: microsoft.dbformariadb/serversRecommendation ID: a77dd319-ffb5-4f88-bdf2-e98e59afc79f
Our internal telemetry shows that the server may be unable to support the connection requests because of the maximum supported connections for the given SKU. This may result in a large number of failed connections requests which adversely affect the the performance. To improve performance, we recommend moving to higher memory SKU by increasing vCore or switching to Memory-Optimized SKUs.
Potential benefits: Improve query performance by allowing more concurrent connections
Impact:Medium
ResourceType: microsoft.dbformariadb/serversRecommendation ID: 860d2d5d-7934-4ccb-a34a-577adf3022a6
Our internal telemetry shows that the CPU has been running under high utilization for an extended period of time over the last 7 days. High CPU utilization may lead to slow query performance. To improve performance, we recommend moving to a larger compute size.
Potential benefits: Improve query performance by reducing CPU pressure
Impact:Medium
For more information, seePricing - Azure Database for MariaDB
ResourceType: microsoft.dbformariadb/serversRecommendation ID: a5f888e3-8cf4-4491-b2ba-b120e14eb7ce
Our internal telemetry shows that there is high churn in the buffer pool for this server which can result in slower query performance and increased IOPS. To improve performance, review your workload queries to identify opportunities to minimize memory consumed. If no such opportunity found, then we recommend moving to higher SKU with more memory or increase storage size to get more IOPS.
Potential benefits: Improve query performance by caching more data in memory
Impact:Medium
For more information, seePricing - Azure Database for MariaDB
ResourceType: microsoft.dbformariadb/serversRecommendation ID: a092afdb-6f20-4b42-8d8f-423ac8d71a3f
Our internal telemetry shows that the server may be constrained because it's approaching limits for the currently provisioned storage values. This may result in degraded performance or in the server being moved to read-only mode. To ensure continued performance, we recommend increasing the provisioned storage amount or turning ON the Auto-Growth feature for automatic storage increases.
Potential benefits: Improve query performance by allocating larger storage for the server
Impact:High
For more information, seeAuto grow storage - Azure portal - Azure Database for MariaDB
ResourceType: microsoft.dbformariadb/serversRecommendation ID: dc791c8d-a74e-4b3e-b7f1-40793399ecd6
Azure Database for MySQL
With the new Ev5 compute hardware, you can boost workload performance by 30% with higher concurrency and better throughput. Navigate to the Compute+Storage blade on the Azure Portal and switch to Ev5 compute at no extra cost. Ev5 compute provides best performance among other VM series in terms of QPS and latency.
Potential benefits: With the new Ev5 compute hardware, you can boost workload performance by 30% with higher concurrency and better throughput.
Impact:Medium
For more information, seeBoost Azure MySQL Business Critical flexible server performance by 30% with the Ev5 compute series!
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: fba7355d-0f26-4015-9b14-17bdc584081a
Our telemetry indicates that your Flexible Server is exceeding the connection limits associated with your current SKU. A large number of failed connection requests may adversely affect server performance. To improve performance, we recommend increasing the number of vCores or switching to a higher SKU.
Potential benefits: Improve Flexible Server performance by enabling more concurrent connections.
Impact:Medium
For more information, seeService Tiers - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: 5f043aef-0ac4-4dd6-941b-7f4697ebad47
Our internal telemetry shows that the CPU has been running under high utilization for an extended period of time over the last 7 days. High CPU utilization may lead to slow query performance. To improve performance, we recommend moving to a larger compute size.
Potential benefits: Improve query performance by reducing CPU pressure
Impact:High
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: 96181a8c-f81b-45c0-83d2-5c4cf62843c4
Our internal telemetry shows that there is high memory usage for this server which can result in slower query performance and increased IOPS. To improve performance, review your workload queries to identify opportunities to minimize memory consumed. If no such opportunity found, then we recommend moving to higher SKU with more memory or increase storage size to get more IOPS.
Potential benefits: Improve query performance by caching more data in memory
Impact:Medium
For more information, seeService Tiers - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: 89b7919e-60cc-42a3-adb7-2be468f6ecb9
Our internal telemetry shows that you may have a read intensive workload running, which results in resource contention for this server. This leads to slow query performance for the server. To improve performance, we recommend you add a read replica, and offload some of your read workloads to the replica.
Potential benefits: Improve query performance by scaling out reads
Impact:Medium
For more information, seeRead Replicas - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: f9604823-849a-4fe0-b9be-bc937d6b4618
Our internal telemetry shows that the server may be constrained because it's approaching limits for the currently provisioned storage values. This may result in degraded performance or in the server being moved to read-only mode. To ensure continued performance, we recommend increasing the provisioned storage amount.
Potential benefits: Improve server performance by increasing the storage limit
Impact:High
For more information, seeService Tiers - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: 6abfe73d-9b26-414c-9e94-62f1db8d653b
Our internal telemetry indicates that your MySQL server may be incurring unnecessary I/O overhead due to low temporary-table parameter settings. This may result in unnecessary disk-based transactions and reduced performance. We recommend that you increase the 'tmp_table_size' and 'max_heap_table_size' parameter values to reduce the number of disk-based transactions.
Potential benefits: Improve MySQL workload performance by reducing I/O overhead associated with disk-based transactions
Impact:High
For more information, seeMySQL :: MySQL 8.0 Reference Manual :: 10.4.4 Internal Temporary Table Use in MySQL
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: f44c8e21-9f13-4b8e-a839-7141dd5645bb
For servers in the Azure Database for MySQL - Business-Critical service tier, enable Accelerated Logs to enhance performance by reducing write latency, potentially doubling application performance at no extra cost.
Potential benefits: Up to 2x increase in throughput for Business-Critical workloads at no extra cost.
Impact:High
For more information, seeAccelerated Logs Feature in Azure Database for MySQL - Flexible Server - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: 2aa0da9d-b0f0-4924-92e0-1518441f40ac
The replica server is approaching maximum threshold for IOPS utilization and has significant replication lag. To maintain effective synchronization with primary server, increase storage IOPS or activate Autoscale IOPS using Azure portal or Azure CLI.
Potential benefits: Replica server closely synchronizes with primary server.
Impact:High
For more information, seeZone-Redundant HA - Azure Database for MySQL - Flexible Server
ResourceType: microsoft.dbformysql/flexibleserversRecommendation ID: d397f019-f52e-47e9-ba3f-106399c829a8
Our internal telemetry shows that the server's audit logs may be lost over the past day. This occurs when your server is experiencing a CPU heavy workload or a server generates a large number of audit logs over a short period of time. We recommend only logging the necessary events required for your audit purposes using the following server parameters: audit_log_events, audit_log_exclude_users, audit_log_include_users. If the CPU usage on your server is high due to your workload, we recommend increasing the server's vCores to improve performance.
Potential benefits: Improve the reliability of audit logs for monitoring and troubleshooting.
Impact:Medium
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/serversRecommendation ID: 997839f4-48e4-49e4-9b15-628a7757765c
Our internal telemetry shows that the server may be unable to support the connection requests because of the maximum supported connections for the given SKU. This may result in a large number of failed connections requests which adversely affect the the performance. To improve performance, we recommend moving to higher memory SKU by increasing vCore or switching to Memory-Optimized SKUs.
Potential benefits: Improve query performance by allowing more concurrent connections
Impact:Medium
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/serversRecommendation ID: 944611b9-0357-4272-a9ac-a97a65932599
Our internal telemetry indicates that your application connecting to MySQL server may not be managing connections efficiently. This may result in unnecessary resource consumption and overall higher application latency. To improve connection management, we recommend that you reduce the number of short-lived connections and eliminate unnecessary idle connections. This is done by configuring a server side connection-pooler, such as ProxySQL.
Potential benefits: Improve performance by reducing overhead associated with short-lived and idle database connections
Impact:High
For more information, seeConnecting efficiently to Azure Database for MySQL with ProxySQL
ResourceType: microsoft.dbformysql/serversRecommendation ID: f62ef41c-2cdb-4f4e-9dc9-a391c579b0fb
Our internal telemetry indicates that your application connecting to MySQL server may not be managing connections efficiently. This may result in higher application latency. To improve connection latency, we recommend that you enable connection redirection. This is done by enabling the connection redirection feature of the PHP driver.
Potential benefits: Reduce network latency between client applications
Impact:High
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/serversRecommendation ID: 2cbca084-4e80-4720-a7fe-dc8c3074e8ca
Our internal telemetry shows that the CPU has been running under high utilization for an extended period of time over the last 7 days. High CPU utilization may lead to slow query performance. To improve performance, we recommend moving to a larger compute size.
Potential benefits: Improve query performance by reducing CPU pressure
Impact:Medium
For more information, seeFlexible Server Pricing - Azure Database for MySQL
ResourceType: microsoft.dbformysql/serversRecommendation ID: 0fb3f293-899e-458a-81cc-ad263dd89629
Our internal telemetry shows that there is high churn in the buffer pool for this server which can result in slower query performance and increased IOPS. To improve performance, review your workload queries to identify opportunities to minimize memory consumed. If no such opportunity found, then we recommend moving to higher SKU with more memory or increase storage size to get more IOPS.
Potential benefits: Improve query performance by caching more data in memory
Impact:Medium
For more information, seeFlexible Server Pricing - Azure Database for MySQL
ResourceType: microsoft.dbformysql/serversRecommendation ID: 74aa92b7-9c42-4640-9b1b-8ab645c86a00
Our internal telemetry shows that you may have a read intensive workload running, which results in resource contention for this server. This leads to slow query performance for the server. To improve performance, we recommend you add a read replica, and offload some of your read workloads to the replica.
Potential benefits: Improve query performance by scaling out reads
Impact:Medium
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/serversRecommendation ID: 1efe9592-f5ae-4167-97d7-63e973821fca
Our internal telemetry shows that the server may be constrained because it's approaching limits for the currently provisioned storage values. This may result in degraded performance or in the server being moved to read-only mode. To ensure continued performance, we recommend increasing the provisioned storage amount or turning ON the Auto-Growth feature for automatic storage increases.
Potential benefits: Improve query performance by allocating larger storage for the server
Impact:High
For more information, seeAzure Database for MySQL documentation
ResourceType: microsoft.dbformysql/serversRecommendation ID: c0576597-4910-48b5-9828-5b3a99190b82
Our internal telemetry indicates that your MySQL server may be incurring unnecessary I/O overhead due to low temporary-table parameter settings. This may result in unnecessary disk-based transactions and reduced performance. We recommend that you increase the 'tmp_table_size' and 'max_heap_table_size' parameter values to reduce the number of disk-based transactions.
Potential benefits: Improve MySQL workload performance by reducing I/O overhead associated with disk-based transactions
Impact:High
For more information, seeOptimally tuning your workload on Azure Database for MySQL
ResourceType: microsoft.dbformysql/serversRecommendation ID: 99811474-2a6c-4d40-ac91-ae76c76e3258
Azure Database for PostgreSQL
Your server has inactive Logical Replication Slots, which can result in degraded server performance and availability.
Potential benefits: Improve server availability and performance
Impact:High
For more information, seeAutovacuum tuning - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: 114c6710-6c60-4163-b582-ac573199c40d
The server is encountering frequent checkpoints, which can impact performance. To resolve the issue, we recommend increasing your max_wal_size server parameter.
Potential benefits: Improve server performance
Impact:High
For more information, seeHigh IOPS utilization - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: 3e62d12b-2de5-411b-97ec-092250fb488c
The server has a bloat_ratio (dead tuples/(live tuples + dead tuples)) > 80%.
Potential benefits: Improve server performance
Impact:High
For more information, seeTroubleshooting guides - Azure portal - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: 3e7c94fd-89c6-4355-b72f-a8cd0451c3e7
Over the last 7 days your CPU usage is one of the following: greater than 90% for 2 or more hours, maximum usage occurs 20%. High CPU utilization can lead to slow query performance.
Potential benefits: Improve query performance
Impact:High
For more information, seeTroubleshooting guides - Azure portal - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: 5a05c081-028d-45cc-9530-cfee8bf04a0e
Your log_statement server parameter is turned ON, which can lead to potential performance degradation.
Potential benefits: Improve server performance
Impact:Medium
For more information, seeReporting and Logging / What to Log server parameters - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: 7f791293-46af-423d-b23c-355fc9db5474
You may experience potential performance degradation due to logging settings. To optimize these settings, set the log_duration server parameter to OFF.
Potential benefits: Improve server performance
Impact:Medium
For more information, seeReporting and Logging / What to Log server parameters - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: ab589166-0276-44cb-ba9f-80fac5306e0c
The server has crossed the 50% wraparound limit, with greater than 1 billion transactions. Refer to the recommendations shared in the Autovacuum Blockers -> Emergency AutoVacuum and Wraparound section of the troubleshooting guides.
Potential benefits: Improve server performance
Impact:High
For more information, seeAutovacuum tuning - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: b35d2b04-2c01-4f4c-91af-7abe3b0cc697
Your log_statement_stats server parameter is turned ON, which can lead to potential performance degradation.
Potential benefits: Improve server performance
Impact:High
For more information, seeStatistics / Monitoring server parameters - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: b50dc645-82f7-442b-a8cf-687867100179
Your log_min_duration_statement server parameter is set to less than 60,000 ms (1 minute), which can lead to potential performance degradation.
Potential benefits: Improve server performance
Impact:High
For more information, seeReporting and Logging / When to Log server parameters - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: b8c1d4bc-a7f1-49ab-b8d6-b13b0c456d30
The server has transactions running for more than 24 hours. Long running transactions are holding resources, which could impact server performance. Review the High CPU Usage-> Long Running Transactions section in the troubleshooting guides.
Potential benefits: Improve server performance
Impact:High
For more information, seeHigh CPU utilization - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: cac74222-5aa1-4778-9f50-6826c462650c
Your server's autovacuum parameter setting is OFF and the Bloat ratio (dead tuples/(live tuples + dead tuples)) > 50%.
Potential benefits: Improve server performance by setting autovacuum to ON
Impact:High
For more information, seeAutovacuum tuning - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: dfecf01a-aac2-4429-bc03-7de5756e8bc8
You may experience potential performance degradation due to logging settings. To optimize these settings, set the log_duration server parameter to OFF.
Potential benefits: Improve server performance
Impact:Medium
For more information, seeReporting and Logging / What to Log server parameters - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: e9415244-34b8-4b90-900a-25a6e154fa7e
Your server has orphaned prepared transactions. Rollback or commit the orphaned prepared transactions for efficient server performance.
Potential benefits: Improve server performance.
Impact:High
For more information, seeAutovacuum tuning - Azure Database for PostgreSQL flexible server
ResourceType: microsoft.dbforpostgresql/flexibleserversRecommendation ID: eecd0096-23c1-4ad6-9a8d-fc55d9e8cc40
It looks like the data isn't distributed in this server group but stays on the coordinator. For full Hyperscale (Citus) benefits distribute data on worker nodes in this server group.
Potential benefits: Improve query performance by utilizing resource of each node in the server group
Impact:High
For more information, seeCreating and Modifying Distributed Tables (DDL) â Citus Docs 9.3 documentation
ResourceType: microsoft.dbforpostgresql/servergroupsRecommendation ID: c3c74c9e-e241-496c-be3f-57a2797aa91f
It looks like the data isn't well balanced between worker nodes in this Hyperscale (Citus) server group. In order to use each worker node of the Hyperscale (Citus) server group effectively rebalance data in this server group.
Potential benefits: Get the most of Hyperscale (Citus) by utilizing resources of each node more evenly
Impact:High
For more information, seeSQL functions â Azure Cosmos DB for PostgreSQL
ResourceType: microsoft.dbforpostgresql/servergroupsRecommendation ID: 426292db-b3e8-46f6-ad3e-d46753943afb
Our internal telemetry shows that one or more nodes in the server group may be constrained because they are approaching limits for the currently provisioned storage values. This may result in degraded performance or in the server being moved to read-only mode. To ensure continued performance, we recommend increasing the provisioned disk space.
Potential benefits: Improve server performance by increasing the storage and continue to use server in read-write mode.
Impact:High
For more information, seeConfigure cluster - Azure Cosmos DB for PostgreSQL
ResourceType: microsoft.dbforpostgresql/servergroupsv2Recommendation ID: b26edab6-a8dc-4903-b29f-d3b7fb9e0f9c
Our internal telemetry shows that one or more nodes in the server group may be constrained because they are approaching limits for the currently provisioned storage values. This may result in degraded performance or in the server being moved to read-only mode. To ensure continued performance, we recommend increasing the provisioned disk space.
Potential benefits: Improve server performance by increasing the storage and continue to use server in read-write mode.
Impact:High
For more information, seeConfigure cluster - Azure Cosmos DB for PostgreSQL
ResourceType: microsoft.dbforpostgresql/serversRecommendation ID: 4b0be860-1d79-4360-861a-5382fdb0532c
Azure Health Data Services de-identification service
Upgrading to the latest API Version for Azure Health De-Identification ensures maximal performance. If using the Health De-Identification SDK, upgrade to the most recent package version. Alternatively, you can use the Azure Portal to create/manage Health De-Identification resources.
Potential benefits: Improved reliability and performance
Impact:Medium
For more information, seeAzure Health Data Services de-identification service
ResourceType: microsoft.healthdataaiservices/deidservicesRecommendation ID: dd8bef5d-5a56-4239-b25b-a25f283e12f5
Use the newest API version for Azure Health De-Identification. For the Health De-Identification SDK, upgrade to the newest package version. Verify all API requests include the api-version query parameter.
Potential benefits: Newest API version offers enhanced throughput and security.
Impact:Medium
For more information, seeAzure Health Data Services de-identification service
ResourceType: microsoft.healthdataaiservices/deidservicesRecommendation ID: ed25ee86-c6b4-4485-a129-3c0ec1b523da
Azure Kubernetes Service (AKS)
We identified SDK requests from outdated Fleet API for resources under this subscription. We recommend switching to the latest SDK versions. This ensures you receive the latest features and performance improvements.
Potential benefits: Latest Fleet API contains fixes for known issues and other improvements.
Impact:Medium
ResourceType: microsoft.containerservice/fleetsRecommendation ID: 835e829e-9af6-4758-80d2-98df565d1524
It is recommended to add one or more node pools instead of using a single node pool. This helps to isolate critical system pods from your application to prevent misconfigured or rogue application pods from accidentally killing system pods.
Potential benefits: Improves performance
Impact:Medium
For more information, seeUse system node pools in Azure Kubernetes Service (AKS) - Azure Kubernetes Service
ResourceType: microsoft.containerservice/managedclustersRecommendation ID: 492c8468-bb25-4a03-b8e5-9ae99723a017
Azure NetApp Files
Regularly monitor the concurrent users and reduce users if the number of concurrent users on an Azure NetApp Files volume approaches 3000. If the specific scenario requires more than 3,000 concurrent users, group the users and move the groups to multiple regular volumes or use a large volume.
Potential benefits: Reduce latency on a volume
Impact:Medium
For more information, seeStore FSLogix profile containers on Azure NetApp Files - FSLogix
ResourceType: microsoft.netapp/netappaccounts/capacitypools/volumesRecommendation ID: 1b93c1a0-5f0d-43a6-a02f-f2e3fd34b696
Azure SQL Database
We detected that you are missing table statistics which may be impacting query performance. The query optimizer uses statistics to estimate the cardinality or number of rows in the query result which enables the query optimizer to create a high quality query plan.
Potential benefits: Increase query performance
Impact:High
For more information, seeCreate and update statistics on tables - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: ef14bcc2-41a5-41f6-bca8-10764cfbdee0
We detected distribution data skew greater than 15%. This can cause costly performance bottlenecks.
Potential benefits: Increase query performance
Impact:High
For more information, seeDistributed tables design guidance - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 9d7196d1-2d7c-4316-820f-7374a4ddf250
We detected that you can increase load throughput by splitting your compressed files that are staged in your storage account. A good rule of thumb is to split compressed files into 60 or more to maximize the parallelism of your load.
Potential benefits: Increase load performance
Impact:High
For more information, seeData loading best practices for dedicated SQL pools - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: dd93fbbf-e5ef-4c7c-886e-2bfef0958f45
We detected that you can increase load performance and throughput by increasing the batch size when loading into your database. You should consider using the COPY statement. If you are unable to use the COPY statement, consider increasing the batch size when using loading utilities such as the SQLBulkCopy API or BCP - a good rule of thumb is a batch size between 100K to 1M rows.
Potential benefits: Increase load throughput, data compression, and query performance
Impact:High
For more information, seeData loading best practices for dedicated SQL pools - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: e0ba1234-61da-46e3-a66d-fa0752b9df7d
We detected that you had high cache used percentage with a low hit percentage. This indicates high cache eviction which can impact the performance of your workload.
Potential benefits: Increase query performance
Impact:High
For more information, seeOptimize your Gen2 cache - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 14b28bdb-b83d-4f55-a516-44d4152f1f2b
We detected that you had high tempdb utilization which can impact the performance of your workload.
Potential benefits: Increase query performance
Impact:High
For more information, seeMonitor your dedicated SQL pool workload using DMVs - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 33e515fe-354c-4016-a0f7-c4d6585aea61
We detected that you may benefit from using replicated tables. To avoid costly data movement operations and significantly increase the performance of your workload, use replicated tables.
Potential benefits: Increase query performance
Impact:High
For more information, seeDesign guidance for replicated tables - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 293984cf-b551-461f-b22d-9659ebd09a4f
We detected that you are loading from a region that is different from your SQL pool. You should consider loading from a storage account that is within the same region as your SQL pool to minimize latency when loading data.
Potential benefits: Minimize latency and increase load performance
Impact:High
For more information, seeData loading best practices for dedicated SQL pools - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 314a2614-24d3-496c-b9d6-e6cd3df4b6c2
We detected that you do not have up-to-date table statistics which may be impacting query performance. The query optimizer uses up-to-date statistics to estimate the cardinality or number of rows in the query result which enables the query optimizer to create a high quality query plan.
Potential benefits: Increase query performance
Impact:High
For more information, seeCreate and update statistics on tables - Azure Synapse Analytics
ResourceType: microsoft.sql/sqldatawarehousesRecommendation ID: 01dea77b-3ca4-4583-9b09-88f5a8fd5857
Azure Synapse Analytics
New SynapseManagementClient is using .NET SDK 4.0 or above.
Potential benefits: Latest SynapseManagementClient Libraries contain fixes for known issues and other improvements.
Impact:Medium
For more information, seeSynapseManagementClient Class (Microsoft.Azure.Management.Synapse) - Azure for .NET Developers
ResourceType: microsoft.synapse/workspacesRecommendation ID: 7c83695a-3fa9-4668-9080-85151f5ab7be
Clustered columnstore tables are organized in data into segments. Having high segment quality is critical to achieving optimal query performance on a columnstore table. Segment quality is measured using the number of rows in a compressed row group.
Potential benefits: CCI (Clustered Columnstore Index) is suitable for large tables, typically over 60 million rows. For smaller tables, consider creating the table as HEAP or Clustered Index with additional secondary Indexes.
Impact:Medium
For more information, seeBest practices for dedicated SQL pools - Azure Synapse Analytics
ResourceType: microsoft.synapse/workspacesRecommendation ID: 2699ef96-788d-41b6-939c-cebe568f7875
Azure Traffic Collector
The latest version of Azure Traffic Collector SDK contains fixes to issues proactively identified through our QA process, supports the latest resource model & has reliability and performance optimization that can improve your overall experience of using ATC.
Potential benefits: Improve reliability, performance, and new feature capabilities.
Impact:Medium
For more information, seeAzure ExpressRoute Traffic Collector - Azure ExpressRoute
ResourceType: microsoft.networkfunction/azuretrafficcollectorsRecommendation ID: 1bbfadeb-006f-4f81-8e69-b073160b1e2c
Azure Virtual Desktop
Depth first load balancing uses the max session limit setting to determine the maximum number of users that can have concurrent sessions on a single session host. If the max session limit setting is too high, all user sessions are directed to the same session host and this causes performance and reliability issues. Therefore, when setting a host pool to have depth first load balancing, you should also set an appropriate max session limit setting according to the configuration of your deployment and capacity of your VMs. To fix this, open your host pool's properties and change the value next to the max session limit setting.
Potential benefits: Ensure session host functional stability, reliability, and performance when using Windows Virtual Desktop service
Impact:High
For more information, seeConfigure host pool load balancing in Azure Virtual Desktop
ResourceType: microsoft.desktopvirtualization/hostpoolsRecommendation ID: 2cc17306-822e-45b1-8d7f-5b0d2f2cccdb
We have determined that your VMs are located in a region different or far from where your users are connecting from, using Windows Virtual Desktop (WVD). This leads to prolonged connection response times and impacts overall user experience on WVD. When creating VMs for your host pools, you should attempt to use a region closer to the user. Having close proximity ensures continuing satisfaction with the WVD service and a better overall quality of experience.
Potential benefits: Improves satisfaction with network round-trip time of the WVD service deployments.
Impact:Medium
For more information, seeAnalyze connection quality in Azure Virtual Desktop - Azure
ResourceType: microsoft.desktopvirtualization/hostpoolsRecommendation ID: d89829c9-dadf-4ddc-87d6-fd746debd5d3
Azure VMware Solution
Your vSAN capacity utilization reached 75%. The cluster utilization is required to remain below the 75% critical threshold for SLA compliance. Add new nodes to VSphere cluster to increase capacity or delete VMs to reduce consumption or adjust VM workloads
Potential benefits: Maintain the health and performance of your vSAN operations
Impact:High
For more information, seeArchitecture - Private clouds and clusters - Azure VMware Solution
ResourceType: microsoft.avs/privatecloudsRecommendation ID: eeb4ed3e-4e9b-40b4-84fb-5514d0be0eda
Cognitive Services
Upgrade to the latest API version to get the best results in terms of model quality, performance and service availability.
Potential benefits: Better service availability and performance
Impact:Medium
For more information, seeWhat is Azure AI Language - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 3dbfbe10-4a27-4d10-9369-256e99f83a9c
Upgrade to the latest SDK version to get the best results in terms of model quality, performance and service availability.
Potential benefits: Better service availability and performance
Impact:Medium
For more information, seeWhat is Azure AI Language - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 3f319edd-fdce-4ab5-8f6d-c63dc4cea73b
Upgrade to the latest API version to get the best results in terms of model quality, performance, and service availability. New features are also available as new endpoints starting from V3.0 such as PII recognition, Entity recognition, and entity linking available as separate endpoints. In terms of changes in preview endpoints, we have Opinion Mining in SA endpoint, redacted text property in PII endpoint.
Potential benefits: Better service availability and performance
Impact:Medium
For more information, seeWhat is Azure AI Language - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: c8bbcb72-b778-48b4-882c-d8ce271995e5
Upgrade to the latest SDK version to get the best results in terms of model quality, performance, and service availability. New features are also available as new endpoints starting from V3.0 such as PII recognition, Entity recognition, and entity linking available as separate endpoints. In terms of changes in preview endpoints, we have Opinion Mining in SA endpoint, redacted text property in PII endpoint.
Potential benefits: Better service availability and performance
Impact:Medium
For more information, seeWhat is language detection in Azure AI Language? - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 1b94aa41-a51e-4cad-98fb-3a44447d5997
Upgrade to the newest API version to get the best results in terms of model quality, performance, and service availability.
Potential benefits: Better service availability and performance
Impact:Medium
For more information, seeWhat is Azure AI Health Insights (Preview) - Azure AI Health Insights
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 08e6c0c6-2265-4380-a2b5-7d80d54fa6a5
Upgrade to the newest API version to get the best results in terms of model quality, performance, and service availability
Potential benefits: More features, better service availability, and performance.
Impact:Medium
For more information, seeHealth Insights
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 1f1b5a94-3e2b-4f9c-8277-7f87e6c989a8
Upgrade the model version to a newer model version or newest to utilize the newest and highest quality models.
Potential benefits: Using a newer model version enables you to utilize the newest and highest quality models.
Impact:Medium
For more information, seeModel Lifecycle of Language service models - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 57ff4f8c-6878-4917-afed-0964e8829e38
The resource is approaching PTU utilization limit for seven or more days. Add more PTUs to your deployment. In Azure Monitor, set PTU utilization alerts.
Potential benefits: Manage increase in workload and reduce latency
Impact:Medium
For more information, seeUnderstanding costs associated with provisioned throughput units (PTU) - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 5bb8940d-e316-4dea-90fd-5d879619c98c
Request more PTU quota for the deployment. The resource is approaching the limit for the PTU quota
Potential benefits: Meet throughput and latency requirements
Impact:Medium
For more information, seeUnderstanding costs associated with provisioned throughput units (PTU) - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 6b44d824-b4f7-4928-b755-abec825931dd
We observed 1,000 or more 429 throttling errors on this resource in a one day timeframe. Consider enabling autoscale to handle higher volume of requests and reduce the number of 429 errors.
Potential benefits: Autoscale your resource and reduce throttling errors.
Impact:Medium
For more information, seeAutoscale AI services limits - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: 8dde1045-da54-4d32-b8f9-635c5c9c0ac6
Upgrade the model version to a newer model version to utilize newer and higher-quality models.
Potential benefits: Using a newer model version enables you to utilize newer and higher-quality models.
Impact:Medium
For more information, seeModel Lifecycle of Language service models - Azure AI services
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: e8829dff-7c98-49e5-9b8c-5d6d18c6a45f
Upgrade to the latest SDK version to get the best results in terms of model quality, performance, and service availability.
Potential benefits: More features, better service availability, and performance.
Impact:Medium
For more information, seeAzure Health Decision Support SDK for .NET - Azure for .NET Developers
ResourceType: microsoft.cognitiveservices/accountsRecommendation ID: f88ef142-07dd-4569-a304-7cc9de8a14e5
Content Delivery Network
The latest version of Azure Front Door Standard and Premium Client Library or SDK contains fixes to issues reported by customers and proactively identified through our QA process. The latest version also carries reliability and performance optimization in addition to new features that can improve your overall experience using Azure Front Door Standard and Premium.
Potential benefits: Improve reliability, performance, and new feature capabilities.
Impact:Medium
For more information, seeComparison between Azure Front Door and Azure CDN services
ResourceType: microsoft.cdn/profilesRecommendation ID: e607041e-3194-42ad-9994-b6ea5ec12f5e
Data Factory
A high volume of throttling is detected in an event-based trigger that runs in your Data Factory resource. This is causing your pipeline runs to drop from the run queue. Review the trigger definition to resolve issues and increase performance.
Potential benefits: Ensure better performance by reviewing and editing your event-based trigger definition
Impact:Medium
ResourceType: microsoft.datafactory/factories/triggersRecommendation ID: eb4f67d2-2440-4d58-bec7-6de73cc5ba75
HDInsight
You are seeing this advisor recommendation because HDInsight team's system log shows that in the past 7 days, your cluster has encountered the following scenarios: 1. High WAL sync time latency 2. High write request count (at least 3 one hour windows of over 1000 avg_write_requests/second/node). These conditions are indicators that your cluster is suffering from high write latencies. This could be due to heavy workload performed on your cluster. To improve the performance of your cluster, you may want to consider utilizing the Accelerated Writes feature provided by Azure HDInsight HBase. The Accelerated Writes feature for HDInsight Apache HBase clusters attaches premium SSD-managed disks to every RegionServer (worker node) instead of using cloud storage. As a result, provides low write-latency and better resiliency for your applications. To read more on this feature, visit link.
Potential benefits: Lower write-latency and better resiliency for your applications.
Impact:Medium
For more information, seeAzure HDInsight Accelerated Writes for Apache HBase
ResourceType: microsoft.hdinsight/clustersRecommendation ID: 8109a740-abe9-453e-91fc-c25598de73d0
The compaction queue in your region servers are more than 2000 suggesting that more data requires compaction. Slower compactions can impact read performance as the number of files to read are more. More files without compaction can also impact the heap usage related to how files interact with Azure file system.
Potential benefits: Faster compactions would ensure faster reads and less heap usage.
Impact:Medium
For more information, seeOptimize for cluster advisor recommendations - Azure HDInsight
ResourceType: microsoft.hdinsight/clustersRecommendation ID: e459ed06-6204-4c85-9f75-9b046b68578a
The flush queue size in your region servers is more than 100 or there are updates getting blocked frequently. Tuning of the flush handler is recommended.
Potential benefits: Faster flushes would clear the writes from being blocked.
Impact:Medium
For more information, seeOptimize for cluster advisor recommendations - Azure HDInsight
ResourceType: microsoft.hdinsight/clustersRecommendation ID: 469b5242-26ee-4a4c-ba65-97479166bcf1
More than 75% of your read requests are landing on the memstore. That indicates that the reads are primarily on recent data. This suggests that if a flush happens on the memstore, the recent file needs to be accessed and that file needs to be in the cache.
Potential benefits: If the reads are on the most recent data, the suggested configuration changes help you read from the memory as much as possible and help with faster read performance.
Impact:Medium
For more information, seeOptimize for cluster advisor recommendations - Azure HDInsight
ResourceType: microsoft.hdinsight/clustersRecommendation ID: 80c1538d-5962-4b54-8018-1bed379e4029
Region counts need to be adjusted to avoid updates getting blocked. It might require a scale up of the cluster by adding new nodes.
Potential benefits: Brings more parallelism and ensures writes are more uniform.
Impact:Medium
For more information, seeOptimize for cluster advisor recommendations - Azure HDInsight
ResourceType: microsoft.hdinsight/clustersRecommendation ID: 076f2cce-a86e-4175-adba-4a7456839a47
More than 75% of the scan queries on your cluster are doing a full region/table scan. Modify your scan queries to avoid full region or table scans.
Potential benefits: Faster scan performance
Impact:Medium
For more information, seeOptimize for cluster advisor recommendations - Azure HDInsight
ResourceType: microsoft.hdinsight/clustersRecommendation ID: 3b6f9784-2bf9-4348-a1e6-4554504f213d
Health Data Services
The DICOM service API v2 is now Generally Available (GA) and introduces several behavior changes and new features. In the future, new features are added to the v2 API. See the conformance statement for details.
Potential benefits: Upgrade to receive the newest features and performance improvements.
Impact:High
For more information, seeDICOM Service API v2 Changes - Azure Health Data Services
ResourceType: microsoft.healthcareapis/servicesRecommendation ID: 0f7697ee-5338-4664-b997-be6029eeaeb6
Key Vault
New Key Vault Client Libraries are split to keys, secrets, and certificates SDKs, which are integrated with recommended Azure Identity library to provide seamless authentication to Key Vault across all languages and environments. It also contains several performance fixes to issues reported by customers and proactively identified through our QA process.Important: Be aware that you can only remediate recommendation for custom applications you have access to. Recommendations can be shown due to integration with other Azure services like Storage, Disk encryption, which are in process to update to new version of our SDK. If you use .NET 4.0 in all your applications, dismiss this.
Potential benefits: Latest Key Vault Client Libraries contain fixes for known issues and other improvements.
Impact:Medium
For more information, seeClient Libraries for Azure Key Vault
ResourceType: microsoft.keyvault/managedhsmsRecommendation ID: 47e36ece-24bb-4d3e-8172-af28c9df172d
New Key Vault Client Libraries are split to keys, secrets, and certificates SDKs, which are integrated with recommended Azure Identity library to provide seamless authentication to Key Vault across all languages and environments. It also contains several performance fixes to issues reported by customers and proactively identified through our QA process.DISMISS: If Key Vault is integrated with Azure Storage, Disk or other Azure services which can use old Key Vault SDK and when all your current custom applications are using .NET SDK 4.0 or newer.
Potential benefits: Latest Key Vault Client Libraries contain fixes for known issues and other improvements.
Impact:Medium
For more information, seeClient Libraries for Azure Key Vault
ResourceType: microsoft.keyvault/vaultsRecommendation ID: 9017e82f-b7ac-4a06-8b9b-5858cb3d5113
Storage
One or more of your storage accounts has a high transaction rate per GB of block blob data stored. Use premium performance block blob storage instead of standard performance storage for your workloads that require fast storage response times and/or high transaction rates and potentially save on storage costs.
Potential benefits: Block blob storage performance boost with the lowest Azure transaction prices.
Impact:Medium
For more information, seeStorage account overview - Azure Storage
ResourceType: microsoft.storage/storageaccountsRecommendation ID: c6b94711-f1f5-4e7e-9c89-c17ed4190969
We observed that there are no snapshots of your file shares. This means you aren't protected from accidental file deletion or file corruption scenarios. Enable snapshots to protect your data. To enable snapshots, you can use Azure Portal or Azure Backup or 3rd party solutions.
Potential benefits: Schedule snapshots of your file shares to protect yourself from accidental file deletion or data corruption like ransomware.
Impact:Medium
For more information, seeUse Azure Files share snapshots
ResourceType: microsoft.storage/storageaccountsRecommendation ID: d9823f54-3eaa-485b-a3b0-b9559c8e831f
When writing a block blob that is 256 MB or less (64 MB for requests using REST versions before May 31, 2016), you can upload it in its entirety with a single write operation using Put Blob. Based on your aggregated metrics, we believe your storage account's write operations can be optimized.
Potential benefits: Increase performance and reduce operation costs.
Impact:Medium
For more information, seeUnderstanding block blobs, append blobs, and page blobs - Azure Storage
ResourceType: microsoft.storage/storageaccountsRecommendation ID: b353f187-4cb4-4b2b-b502-472f45f32fd6
Because you are running IaaS virtual machine workloads on Standard HDD managed disks, we wanted to let you know that a Standard SSD disk option is now available for all Azure VM types. Standard SSD disks are a cost-effective storage option optimized for enterprise workloads that need consistent performance. Upgrade your disk configuration today for improved latency, reliability, and availability. Upgrading requires a VM reboot, which takes three to five minutes.
Potential benefits: Improve disk latency, reliability, and availability using Standard SSD disks.
Impact:Medium
For more information, seeSelect a disk type for Azure IaaS VMs - managed disks - Azure Virtual Machines
ResourceType: microsoft.storage/storageaccountsRecommendation ID: 8433e84a-8f5c-4b6c-9052-9b98757348ea
We have noticed your Unmanaged HDD Disk is approaching performance targets. Azure premium SSDs deliver high-performance and low-latency disk support for virtual machines with IO-intensive workloads. Give your disk performance a boost by upgrading your Standard HDD disk to Premium SSD disk. Upgrading requires a VM reboot, which takes three to five minutes.
Potential benefits: Give your disk performance a boost using Premium SSD disks.
Impact:Medium
For more information, seeSelect a disk type for Azure IaaS VMs - managed disks - Azure Virtual Machines
ResourceType: microsoft.storage/storageaccountsRecommendation ID: 33557a7c-6dd6-4b46-9579-fc5273f07458
The latest version of Storage Client Library/ SDK contains fixes to issues reported by customers and proactively identified through our QA process. The latest version also carries reliability and performance optimization in addition to new features that can improve your overall experience using Azure Storage.
Potential benefits: Latest Storage Client Library contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeInstall and manage packages in Visual Studio using the NuGet Package Manager
ResourceType: microsoft.storage/storageaccountsRecommendation ID: 7e9fbfe8-1234-435c-b114-424445c9be6f
The latest version of Storage Client Library/ SDK contains fixes to issues reported by customers and proactively identified through our QA process. The latest version also carries reliability and performance optimization in addition to new features that can improve your overall experience using Azure Storage.
Potential benefits: Latest Storage Client Library contains fixes for known issues and other improvements.
Impact:Medium
ResourceType: microsoft.storage/storageaccountsRecommendation ID: 97172837-e5ea-45b2-af3b-cadbf428a6d9
We observed that the SMB multichannel isn't enabled for your storage account. SMB Multichannel enables an SMB 3.x client to establish multiple network connections to an SMB file share. An increased performance is achieved through bandwidth aggregation over multiple NICs and utilizing Receive S
Potential benefits: Increase performance of file shares using SMB Multichannel
Impact:Medium
For more information, seeSMB file shares in Azure Files
ResourceType: microsoft.storage/storageaccountsRecommendation ID: 6708739d-5221-4d53-9960-698cd2fd9628
Your requests for premium file share are throttled as the I/O operations per second (IOPS) or throughput limits for the file share reached the share limits. To prevent your requests from being throttled, increase the provision size of the premium file share.
Potential benefits: Boost performance of premium file share by increasing provisioned size
Impact:High
For more information, seeCreate an Azure file share - Azure Files
ResourceType: microsoft.storage/storageaccountsRecommendation ID: d05351cc-1014-4a6c-9173-bec1bcc48849
Subscriptions
We identified requests to an outdated Workloads API version for resources under this resource group. We recommend switching to the latest Workloads API version to ensure uninterrupted access to latest features and performance improvements in Azure Center for SAP solutions. If there are multiple Virtual Instances for SAP solutions (VIS) shown in the recommendation, ensure you update the API version for all VIS resources.
Potential benefits: Latest Workloads API contains fixes for known issues and other improvements
Impact:Medium
For more information, seeAzure Center for SAP solutions API reference documents
ResourceType: microsoft.subscriptions/subscriptionsRecommendation ID: 459f28d1-3669-43a7-8981-2dcbfa862608
We identified requests to an outdated Workloads SDK version from resources in this Resource Group. Upgrade to the latest Workloads SDK version to get the latest features and the best results in terms of model quality, performance, and service availability for Azure Center for SAP solutions. If there are multiple Virtual Instances for SAP solutions (VIS) shown in the recommendation, ensure you update the SDK version for all VIS resources.
Potential benefits: Latest Workloads SDK contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeAzure Center for SAP solutions
ResourceType: microsoft.subscriptions/subscriptionsRecommendation ID: f5a05237-91e2-4ecf-8394-f020c33665a1
An outdated version of the SAP Migrate Discovery API has been detected for resources within the SAP Discovery Site under your subscription. To ensure access to the latest features and performance enhancements, we recommend upgrading to the most recent version of the API.
Potential benefits: Latest API contains fixes for known issues and other improvements
Impact:Medium
ResourceType: microsoft.subscriptions/subscriptionsRecommendation ID: 93214083-e48e-420e-881f-89d02265f831
An outdated version of the SAP Migrate Discovery SDK has been detected for resources within the SAP Discovery Site under your subscription. To ensure access to the latest features and performance enhancements, we recommend upgrading to the most recent version of the SDK.
Potential benefits: Latest SAP Migrate Discovery SDK contains fixes for known issues and other improvements.
Impact:Medium
ResourceType: microsoft.subscriptions/subscriptionsRecommendation ID: 1ee8eace-1e7e-4d73-8547-1f687c72979b
Improve the performance, privacy, and reliability of your business-critical apps by extending your on-premises networks to Azure with Azure ExpressRoute. Establish private ExpressRoute connections directly from your WAN, through a cloud exchange facility, or through POP and IPVPN connections.
Potential benefits: Fast, private, bandwidth up to 100 Gbps, plus cost benefits
Impact:Medium
For more information, seeQuickstart: Create and modify ExpressRoute circuits - Azure portal
ResourceType: microsoft.subscriptions/subscriptionsRecommendation ID: fec68ad4-95b5-4dca-9e20-afa10b3e5401
Virtual Machines
We noticed your Standard HDD disk is approaching performance targets. Azure premium SSDs deliver high-performance and low-latency disk support for virtual machines with IO-intensive workloads. Give your disk performance a boost by upgrading your Standard HDD disk to Premium SSD disk. Upgrading requires a VM reboot, which takes three to five minutes.
Potential benefits: Give your disk performance a boost using Premium SSD disks.
Impact:Medium
For more information, seeSelect a disk type for Azure IaaS VMs - managed disks - Azure Virtual Machines
ResourceType: microsoft.compute/disksRecommendation ID: 00c14add-2aef-4bb4-a3bd-5759096d4417
We detected that Accelerated Networking isn't enabled on VM resources in your existing deployment that may be capable of supporting this feature. If your VM OS image supports Accelerated Networking as detailed in the documentation, make sure to enable this free feature on these VMs to maximize the performance and latency of your networking workloads in cloud
Potential benefits: Improves performance throughput while reducing latency and jitter
Impact:Medium
For more information, seeCreate an Azure Virtual Machine with Accelerated Networking
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 3a3c1a2a-8597-4d3a-981a-0a24a0ee9de4
We detected that Accelerated Networking isn't engaged on a VM resources in your existing deployment even though the feature has been requested. In rare cases like this, it may be necessary to stop and start your VM, at your convenience, to re-engage AccelNet.
Potential benefits: Improves performance throughput while reducing latency and jitter
Impact:Medium
For more information, seeCreate an Azure Virtual Machine with Accelerated Networking
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: a06456ed-afb7-4d16-86fd-0054e25268ed
We identified SDK requests from outdated API for resources under this subscription. We recommend switching to the latest SDK versions. This ensures you receive the latest features and performance improvements.
Potential benefits: Latest Automanage API contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeSDK Overview
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 7fc8d697-5101-4dd2-abf5-32deac4b9cae
Ultra disk is available in the same region as your database workload. Ultra disk offers high throughput, high IOPS, and consistent low latency disk storage for your database workloads: For Oracle DBs, you can now use either 4k or 512E sector sizes with Ultra disk depending on your Oracle DB version. For SQL server, leveraging Ultra disk for your log disk might offer more performance for your database. See instructions here for migrating your log disk to Ultra disk.
Potential benefits: Boost the performance of your database on IaaS VMs by using Ultra disk as log disk.
Impact:Medium
For more information, seeUltra disks for VMs - Azure managed disks - Azure Virtual Machines
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 7cdecd2c-a8b0-41cf-b0a4-528bd4d85f5a
Production virtual machines need production disks if you want to get the best performance. We see that you are running a production level virtual machine, however, you are using a low performing disk with standard HDD. Upgrading your disks that are attached to your production disks, either Standard SSD or Premium SSD, provides a more consistent experience and improvements in latency.
Potential benefits: More consistent performance, better latency
Impact:Medium
For more information, seeSelect a disk type for Azure IaaS VMs - managed disks - Azure Virtual Machines
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 9b0d1cf7-8a3a-4c8b-8f9f-1c3e70e399d6
We analyzed data for the past 7 days and identified virtual machines (VMs) with high utilization across different metrics, for example, CPU, Memory, and VM I/O. The VMs may experience performance issues since they are nearing or at the SKU limits. Consider upgrading their SKU to improve performance.
Potential benefits: Improve the performance and reliability of your VMs
Impact:High
For more information, seeImprove the performance of highly used VMs using Azure Advisor - Azure Advisor
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 06c03895-e210-4153-a4a0-a5e5c8e8eb83
Your virtual machine disks belong to a storage account that reached its scalability target, and is susceptible to I/O throttling. To protect your virtual machine from performance degradation and to simplify storage management, use Managed Disks.
Potential benefits: Improved data resilience and performance
Impact:High
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 36c3633b-daac-4e01-af95-11b8c2f4fe20
We noticed that you are using SSD disks while also using Standard HDD disks on the same VM. Standard HDD managed disks are recommended for dev-test and backup; we recommend you use Premium SSDs or Standard SSDs for production. Premium SSDs deliver high-performance and low-latency disk support for virtual machines with IO-intensive workloads. Standard SSDs provide consistent and lower latency. Upgrade your disk configuration today for improved latency, reliability, and availability. Upgrading requires a VM reboot, which takes three to five minutes.
Potential benefits: Improve latency, reliability, and availability
Impact:High
For more information, seeSelect a disk type for Azure IaaS VMs - managed disks - Azure Virtual Machines
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 6747b02b-b6ac-4c2e-aeca-c2aa0438f58d
The v5 VMs provides newer and faster cores, increased networking throughputs, and better global redundancy and availability. Upgrade to the v5 VMs from the v3 or v2 VMs to match or exceed performance at the same cost.
Potential benefits: 5 VM offers improved core, storage, and network performance
Impact:Medium
For more information, seeD-family size series - Azure Virtual Machines
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: 5e305558-6944-40bb-9d69-eb161b42fcec
We determined that your VMs are located in a region different or far from where your users are connecting, using Windows Virtual Desktop (WVD). This leads to prolonged connection response times and impacts overall user experience on WVD.
Potential benefits: Improves satisfaction with network round-trip time of the WVD service deployments.
Impact:Medium
For more information, seeAnalyze connection quality in Azure Virtual Desktop - Azure
ResourceType: microsoft.compute/virtualmachinesRecommendation ID: c889b55f-9132-444d-a31f-c9e91f1345c9
Workloads
We identified requests to an AMS API version that isn't recommended. We recommend switching to the newest AMS API version to ensure uninterrupted access to AMS, newest features, and performance improvements.
Potential benefits: Newest AMS API contains fixes for known issues and other improvements.
Impact:Medium
For more information, seeWhat is Azure Monitor for SAP solutions?
ResourceType: microsoft.workloads/monitorsRecommendation ID: c8202443-6550-4fc8-9416-5f81089b77d0
Upgrade to the newest Workloads SDK version to get the best results in terms of model quality, performance, and service availability.
Potential benefits: Newest Workloads SDK contain fixes for known issues and other improvements.
Impact:Medium
For more information, seeWhat is Azure Monitor for SAP solutions?
ResourceType: microsoft.workloads/monitorsRecommendation ID: eabfd1a1-6092-471b-8cff-22dd044e5535
To avoid sporadic soft-lockup in Mellanox driver, the can_queue value needs to be reduced in the OS. This value cannot be set directly. Add the following kernel boot line options to achieve the same effect:'hv_storvsc.storvsc_ringbuffer_size=131072 hv_storvsc.storvsc_vcpus_per_sub_channel=1024'
Potential benefits: Ensure high performance in SAP workloads
Impact:Medium
For more information, seeKernel soft lockup with blk_mq_update in traces
ResourceType: microsoft.workloads/sapvirtualinstances/applicationinstancesRecommendation ID: fc547b20-0a11-4d8c-86ce-0d9993a89fbf
To avoid sporadic soft-lockup in Mellanox driver, the can_queue value needs to be reduced in the OS. This value cannot be set directly. Add the following kernel boot line options to achieve the same effect:'hv_storvsc.storvsc_ringbuffer_size=131072 hv_storvsc.storvsc_vcpus_per_sub_channel=1024'
Potential benefits: Ensure high performance in SAP workloads
Impact:Medium
For more information, seeKernel soft lockup with blk_mq_update in traces
ResourceType: microsoft.workloads/sapvirtualinstances/centralinstancesRecommendation ID: 7fe03dfd-e9f2-4886-8e4a-f212c738ca4c
To avoid sporadic soft-lockup in Mellanox driver, the can_queue value needs to be reduced in the OS. This value cannot be set directly. Add the following kernel boot line options to achieve the same effect:'hv_storvsc.storvsc_ringbuffer_size=131072 hv_storvsc.storvsc_vcpus_per_sub_channel=1024'
Potential benefits: Ensure high performance in SAP workloads
Impact:Medium
For more information, seeKernel soft lockup with blk_mq_update in traces
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: cc03700f-6530-40ae-adf4-5f654d5076a9
In HANA DB with ANF storage type, the maximum read socket buffer, defined by the parameter, net.core.rmem_max must be set large enough to handle incoming network packets.This configuration certifies HANA DB to run with ANF and improves file system performance. See SAP note: 3024346.
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 11cbda6c-33fb-47a2-8abc-b708420115f7
In HANA DB with ANF storage type, the maximum write socket buffer, defined by the parameter, net.core.wmem_max must be set large enough to handle outgoing network packets. This configuration certifies HANA DB to run with ANF and improves file system performance. See SAP note: 3024346
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: bf10b7d5-2d5d-459a-8a0d-9c6ae2bc5bed
The parameter net.ipv4.tcp_rmem specifies minimum, default, and maximum receive buffer sizes used for a TCP socket. Set the parameter as per SAP note 3024346 to certify HANA DB to run with ANF and improve file system performance. The maximum value should not exceed net.core.rmem_max parameter
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: a6ad3344-7a93-4d97-98a7-7284048e1653
The parameter net.ipv4.tcp_wmem specifies minimum, default, and maximum send buffer sizes that are used for a TCP socket. Set the parameter as per SAP note: 302436 to certify HANA DB to run with ANF and improve file system performance. The maximum value should not exceed net.core.wmem_max parameter
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 096a9a97-88fa-4e92-b818-c2b9dbbc38ed
The parameter net.core.netdev_max_backlog specifies the size of the receiver backlog queue, used if a Network interface receives packets faster than the kernel can process. Set the parameter as per SAP note: 3024346. This configuration certifies HANA DB to run with ANF and improves file system performance.
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: d40a458d-b366-45f2-a315-dfe71d3eb0eb
The parameter net.ipv4.tcp_slow_start_after_idle disables the need to scale-up incrementally the TCP window size for TCP connections which were idle for some time. By setting this parameter to zero as per SAP note: 302436, the maximum speed is used from beginning for previously idle TCP connections
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 4f21a973-f15e-4e9b-8d10-5d46f0f91367
The parameter net.ipv4.tcp_moderate_rcvbuf enables TCP to perform receive buffer automatic tuning to automatically size the buffer (no greater than tcp_rmem) to match the size required by the path for full throughput. Enable this parameter as per SAP note: 302436 for improved file system performance.
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: eb6a0b87-7c06-466c-a095-69a9bcf211c0
Enable the TCP window scaling parameter as per SAP note: 302436. This configuration certifies HANA DB to run with ANF and improves file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: c93a842a-deca-449d-adc9-840120daa0ca
Enable the tcp_timestamps parameter as per SAP note: 302436. This configuration certifies HANA DB to run with ANF and improves file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 5a6bdcee-dd9f-4e99-adb5-f24dad289d42
Disable the tcp_timestamps parameter as per SAP note: 302436. This configuration certifies HANA DB to run with ANF and improves file system performance in high-availability scenarios for HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 3b8dc04c-73dd-4bf9-9d6f-b8bfec694da3
Enable the tcp_sack parameter as per SAP note: 302436. This configuration certifies HANA DB to run with ANF and improves file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 06b7b95e-91ec-4b38-a97c-923caf3497a5
Disable IPv6 as per recommendation for SAP on Azure for HANA DB with ANF to improve file system performance
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 47eb0254-02be-4817-bacb-aaf5eeabcbb9
To prevent the kernel from using SYN cookies in a situation where lots of connection requests are sent in a short timeframe and to prevent a warning about a potential SYN flooding attack in the system log, the size of the SYN backlog should be set to a reasonably high value. See SAP note 2382421
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: d3bcfaa8-bce5-4869-9b1a-cc11d1dc3a61
As HANA uses a considerable number of connections for the internal communication, it makes sense to have as many client ports available as possible for this purpose. Set the OS parameter, net.ipv4.ip_local_port_range parameter as per SAP note 2382421 to ensure optimal internal HANA communication.
Potential benefits: Improved file system performance
Impact:High
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 612ab8fc-8f4e-4605-bc3f-278e4dfa20e7
Disable the reverse path filter linux OS parameter, net.ipv4.conf.all.rp_filter as per recommendation for improved file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 08f07906-f2ce-4123-bf48-3b468ed7875c
Set the parameter sunrpc.tcp_slot_table_entries to 128 as per recommendation for improved file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 1bfe7781-ccf8-4fa0-ac85-41f2269e041d
Set the OS parameter vm.swappiness to 10 as per recommendation for improved file system performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 0e3db9b9-d301-445d-8ddb-650b87204632
Set the OS parameter tcp_max_slot_table_entries to 128 as per SAP note: 302436 for improved file transfer performance in HANA DB with ANF in SAP workloads
Potential benefits: Improved file system performance
Impact:High
For more information, seeSAP HANA scale-out with standby with Azure NetApp Files on SLES
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: db1a57ee-014b-4f4f-89e4-1ab1337eeff8
Read activity of at least 400 MB/sec for /hana/data for 16 MB and 64 MB I/O sizes is recommended for SAP workloads on Azure. Select the disk type for /hana/data as per this requirement to ensure high performance of the DB and to meet minimum storage requirements for SAP HANA
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 6d4c7645-93ca-4ebc-8a8f-0981463f4ab2
IOPS of at least 7000 in /hana/data volume is recommended for SAP workloads when using Ultradisk. Select the disk type for /hana/data volume as per this requirement to ensure high performance of the DB
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 41ed90fb-8953-40d7-a6ff-d7f67ceaf903
If you are using LVM or mdadm to build stripe sets across several Azure premium disks, you need to define stripe sizes. Based on experience with recentLinux versions, Azure recommends using stripe size of 256 kb for /hana/data filesystem for better performance of HANA DB
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 2bd5a83a-a59d-4941-960a-495211b19b67
If multiple disk types are selected in the /hana/data volume, performance of HANA DB in SAP workloads might get restricted. Ensure all HANA Data voue disks are of the same type and are configured as per recommendation for SAP on Azure
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 6d87a5a3-64ba-4f28-b228-f1da8403e2bb
Read/Write activity of at least 250 MB/sec for /hana/log for 1 MB I/O size is recommended for SAP workloads on Azure. Select the disk type for /hana/log volume as per this requirement to ensure high performance of the DB and to meet minimum storage requirements for SAP HANA
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 773fdeac-ef26-486c-aeb0-a1922201dc2a
IOPS of at least 2000 in /hana/log volume is recommended for SAP workloads when using Ultradisk. Select the disk type for /hana/log volume as per this requirement to ensure high performance of the DB
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 5b34b8c0-0427-4737-be51-88e49b14b734
If you are using LVM or mdadm to build stripe sets across several Azure premium disks, you need to define stripe sizes. To get enough throughput with larger I/O sizes, Azure recommends to use stripe size of 64 kb for /hana/log filesystem for better performance of HANA DB
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 18544c51-decc-4696-aa4f-f1cdfffc0753
If multiple disk types are selected in the /hana/log volume, performance of HANA DB in SAP workloads might get restricted. Ensure all HANA Data voue disks are of the same type and are configured as per recommendation for SAP on Azure
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: b94f9b67-0969-430d-b6cd-ac1bc4910601
Azure Write Accelerator is a functionality for Azure M-Series VMs. It improves I/O latency of writes against the Azure premium storage. For SAP HANA, Write Accelerator is to be used against the /hana/log volume only.
Potential benefits: Better performance and support for HANA DB in SAP workloads
Impact:High
For more information, seeSAP HANA Azure virtual machine storage configurations
ResourceType: microsoft.workloads/sapvirtualinstances/databaseinstancesRecommendation ID: 3188f9a0-12fc-4cb8-9fdd-7380dd92564b
Next steps
Learn more aboutPerformance Efficiency - Microsoft Azure Well Architected Framework
Feedback
Was this page helpful?
Additional resources