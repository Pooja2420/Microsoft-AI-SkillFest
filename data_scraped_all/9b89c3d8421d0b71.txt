Note
Access to this page requires authorization. You can trysigning inorchanging directories.
Access to this page requires authorization. You can trychanging directories.
Use the Azure portal to create and delete consumer users in Azure AD B2C
Article
2023-11-07
9 contributors
In this article
There might be scenarios in which you want to manually create consumer accounts in your Azure Active Directory B2C (Azure AD B2C) directory. Although consumer accounts in an Azure AD B2C directory are most commonly created when users sign up to use one of your applications, you can create them programmatically and by using the Azure portal. This article focuses on the Azure portal method of user creation and deletion.
To add or delete users, your account must be assigned theUser administratorrole.
Types of user accounts
As described inOverview of user accounts in Azure AD B2C, there are three types of user accounts that can be created in an Azure AD B2C directory:
Work
Guest
Consumer
This article focuses on working withconsumer accountsin the Azure portal. For information about creating and deleting Work and Guest accounts, seeAdd or delete users using Microsoft Entra ID.
Create a consumer user
Sign in to theAzure portal.
If you have access to multiple tenants, select theSettingsicon in the top menu to switch to your Azure AD B2C tenant from theDirectories + subscriptionsmenu.
In the left menu, selectMicrosoft Entra ID. Or, selectAll servicesand search for and selectMicrosoft Entra ID.
UnderManage, selectUsers.
SelectNew user.
SelectCreate Azure AD B2C user.
Choose aSign in methodand enter either anEmailaddress or aUsernamefor the new user. The sign in method you select here must match the setting you've specified for your Azure AD B2C tenant'sLocal accountidentity provider (seeManage>Identity providersin your Azure AD B2C tenant).
Enter aNamefor the user. This is typically the full name (given and surname) of the user.
(Optional) You canBlock sign inif you wish to delay the ability for the user to sign in. You can enable sign in later by editing the user'sProfilein the Azure portal.
ChooseAutogenerate passwordorLet me create password.
Specify the user'sFirst nameandLast name.
SelectCreate.
Unless you've selectedBlock sign in, the user can now sign in using the sign in method (email or username) that you specified.
Reset a user's password
As an administrator, you can reset a user's password, if the user forgets their password. When you reset the user's password, a temporary password is autogenerated for the user. The temporary password never expires. The next time the user signs in, the password will still work, regardless how much time has passed since the temporary password was generated. Then user must reset password to a permanent one.
Important
Before you reset a user's password,set up a force password reset flow in Azure Active Directory B2C, otherwise the user won't be able to sign-in.
To reset a user's password:
In your Azure AD B2C directory, selectUsers, and then select the user you want to reset the password.
Search for and select the user that needs the reset, and then selectReset Password.

In theReset passwordpage, selectReset password.
Copy the password and give it to the user. The user will be required to change the password during the next sign-in process.
Delete a consumer user
In your Azure AD B2C directory, selectUsers, and then select the user you want to delete.
SelectDelete, and thenYesto confirm the deletion.
For details about restoring a user within the first 30 days after deletion, or for permanently deleting a user, seeRestore or remove a recently deleted user using Microsoft Entra ID.
Export consumer users
In your Azure AD B2C directory, search forMicrosoft Entra ID.
SelectUsers, and then selectBulk OperationsandDownload Users.
SelectStart, and then selectFile is ready! Click here to download.
When downloading users via Bulk Operations option, the CSV file will bring users with their UPN attribute with the formatobjectID@B2CDomain. This is by design since that's the way the UPN information is stored in the B2C tenant.
Revoke a consumer user's session
Currently, Azure AD B2C doesn't support user session revocation from the Azure portal. However, you can achieve this task by using Microsoft Graph PowerShell orMicrosoft Graph API. If you choose to use Microsoft Graph PowerShell, use the following steps:
If you haven't done so, installMicrosoft Graph PowerShellmodule.
In your Windows PowerShell, run the following command, then respond to the prompts. This command allows you to sign in with the required scopes. You need to sign in with your Azure AD B2C admin account to consent to the required scopes:Connect-MgGraph  -Scopes "User.ReadWrite.All"
Connect-MgGraph  -Scopes "User.ReadWrite.All"
Connect-MgGraph  -Scopes "User.ReadWrite.All"
After you successfully sign in, run the following command in your Windows PowerShell. Replace$userIdwith the consumer user'sobjectIdorUPN.Revoke-MgUserSign -UserId $userId
$userId
Revoke-MgUserSign -UserId $userId
Revoke-MgUserSign -UserId $userId
Next steps
For automated user management scenarios, for example migrating users from another identity provider to your Azure AD B2C directory, seeAzure AD B2C: User migration.
Feedback
Was this page helpful?
Additional resources